(window.webpackJsonp=window.webpackJsonp||[]).push([[36,31,42,97,112,126],{1398:function(e,t,i){"use strict";i.r(t);var n=i(19),r=(i(217),i(48),i(216),i(218),i(7),i(219),i(37),i(40),i(694),i(99),i(222),i(49),i(129),i(403),i(404),i(36),i(405),i(221),i(18),i(98),i(695),i(21),i(211)),o=i(210);function a(){a=function(e,t){return new i(e,void 0,t)};var e=RegExp.prototype,t=new WeakMap;function i(e,n,o){var a=new RegExp(e,n);return t.set(a,o||t.get(e)),Object(r.a)(a,i.prototype)}function s(e,i){var n=t.get(i);return Object.keys(n).reduce((function(t,i){var r=n[i];if("number"==typeof r)t[i]=e[r];else{for(var o=0;void 0===e[r[o]]&&o+1<r.length;)o++;t[i]=e[r[o]]}return t}),Object.create(null))}return Object(o.a)(i,RegExp),i.prototype.exec=function(t){var i=e.exec.call(this,t);if(i){i.groups=s(i,this);var n=i.indices;n&&(n.groups=s(n,this))}return i},i.prototype[Symbol.replace]=function(i,r){if("string"==typeof r){var o=t.get(this);return e[Symbol.replace].call(this,i,r.replace(/\$<([^>]+)>/g,(function(e,t){var i=o[t];return"$"+(Array.isArray(i)?i.join("$"):i)})))}if("function"==typeof r){var a=this;return e[Symbol.replace].call(this,i,(function(){var e=arguments;return"object"!=Object(n.a)(e[e.length-1])&&(e=[].slice.call(e)).push(s(e,a)),r.apply(this,e)}))}return e[Symbol.replace].call(this,i,r)},a.apply(this,arguments)}function s(e,t){if(null==e)return{};var i,n,r=function(e,t){if(null==e)return{};var i,n,r={},o=Object.keys(e);for(n=0;n<o.length;n++)i=o[n],t.indexOf(i)>=0||(r[i]=e[i]);return r}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)i=o[n],t.indexOf(i)>=0||Object.prototype.propertyIsEnumerable.call(e,i)&&(r[i]=e[i])}return r}var l=i(185),c=i(183),u=i(94),d=i(186);var p=i(399),f=i(101),h=i(55),m=i(402),v=(i(401),i(529),i(139),i(100),i(406),i(400),i(531),i(136),i(130),i(437),i(435),i(426),i(475),i(422),i(0)),y=i(398),b=i(416),g=i(651),O=i(418),_=["default"],I={name:"BaseAdvancedSearch",components:{BaseAdvancedSearchRow:g.default,BaseCollapsedFilterRow:Object(v.c)((function(){return Promise.all([i.e(0),i.e(30)]).then(i.bind(null,1402)).then((function(e){return e.default||e}))})),BaseForm:Object(v.c)((function(){return Promise.all([i.e(0),i.e(8),i.e(10)]).then(i.bind(null,1280)).then((function(e){return e.default||e}))})),BaseButton:Object(v.c)((function(){return Promise.resolve().then(i.bind(null,428)).then((function(e){return e.default||e}))}))},directives:{insertTextAsHtml:b.a},props:{mode:{type:String,default:"list",validator:function(e){return["list","form"].includes(e)}},filterList:{type:Array,default:function(){return[]},validator:function(e){return!e.length||e.every((function(e){return!!e.type&&(!["chips","chipssingle"].includes(e.type)||e.freetext_allowed||!!e.options)}))}},appliedFilters:{type:Array,default:function(){return[]},validator:function(e){return!e.length||e.every((function(e){return e.type}))}},defaultFilter:{type:Object,default:function(){return{label:"Fulltext",id:"default",type:"text",options:[],filter_values:[]}},validator:function(e){return null===e||e.type&&(!["chips","chipssingle"].includes(e.type)||e.options)}},formFilterList:{type:Object,default:function(){return{}}},formFilterValues:{type:Object,default:function(){return{}}},formProps:{type:Object,default:function(){return{}}},autocompleteResults:{type:Array,default:function(){return[]}},language:{type:String,default:"en"},isLoadingIndex:{type:Number,default:-1},advancedSearchText:{type:Object,default:function(){return{title:"Advanced Search",subtext:"Select a filter",availableOptions:"Available options",collapsedDateTime:{from:"from",until:"until",range:"to"},advancedButtonLabel:"Advanced Search"}}},dropDownInfoTexts:{type:Object,default:function(){return{autocompleteNoOptions:"No matching options found",autocompleteOngoing:"Autocomplete is being fetched...",autocompleteInitial:"Please start typing or select a filter to see options",chipsNoOptions:"No more options available",chipsMaxOptions:"Please start typing to see options",chipsNoMatch:"No matching options were found",chipsOngoing:"Options are being loaded..."}},validator:function(e){return["autocompleteNoOptions","autocompleteOngoing","autocompleteInitial","chipsNoOptions","chipsOngoing","chipsMaxOptions","chipsNoMatch"].every((function(t){return Object.keys(e).includes(t)}))}},placeholder:{type:[Object,String],default:function(){return{filterRow:"Add values to your filter",main:"Search and Discover"}},validator:function(e){return"string"==typeof e||["filterRow","main"].every((function(t){return Object.keys(e).includes(t)}))}},identifierPropertyName:{type:[Object,String],default:function(){return{filter:"id",autocompleteOption:"id",controlledVocabularyOption:"id",formInputs:"source"}}},labelPropertyName:{type:[Object,String],default:function(){return{filter:"label",autocompleteOption:"title",controlledVocabularyOption:"label",formInputs:"label"}}},autocompletePropertyNames:{type:Object,default:function(){return{label:"label",id:"id",data:"data"}},validator:function(e){return["id","label","data"].every((function(t){return Object.keys(e).includes(t)}))}},assistiveText:{type:Object,default:function(){return{addFilter:"Add filter",removeFilter:"Remove filter",selectFilterLabel:"Select filter",searchLabel:"Search for Entries",selectedOption:"",autocompleteLoaderActive:"loading options.",autocompleteResultsRetrieved:"{optionsNumber} options found in {collectionsNumber} categories.",autocompleteNoResults:"No results found.",autocompleteInitial:"Please start typing to see suggestions.",categoryAnnouncement:"category {label}.",optionsAnnouncement:"{number} options.",autocompleteOptionFilledToForm:"option {optionLabel} filled to field {fieldLabel}.",advancedButtonDescription:"Click to {state} advanced search form.",formState:{open:"open",close:"close"},removeAllFiltersLabel:"Remove all filters.",removeFilterValueNotification:"Filter value {value} was removed from filter {label}.",collapsedFilterRowRemovedNotification:"All search filters were reset.",collapsedAppliedFiltersLabel:"Currently applied Filters",collapsedBooleanFilterValue:"Filter {label} was set",collapsedOptionToRemoveSelected:"Press delete or backspace to remove.",results:""}}},applyBoxShadow:{type:Boolean,default:!0},dateFieldDelay:{type:Number,default:0},advancedFormOpen:{type:Boolean,default:!0},highlightAutocompleteMatch:{type:Boolean,default:!1},highlightAutocompleteTags:{type:Array,default:function(){return[]}},interpretFormChipsLabelAsHtml:{type:Boolean,default:!1}},emits:["search","fetch-autocomplete","fetch-form-autocomplete","update:applied-filters","update:form-filter-values","update:advanced-form-open"],setup:function(){var e=Object(v.d)(null);return{searchContainer:e,announcement:Object(O.a)(e).announcement}},data:function(){return{appliedFiltersInt:[],mainFilter:null,filtersAutocompleteResults:[],autocompleteIndex:-1,originalMainFilter:null,formOpen:!0,formFilterValuesInt:{},originalFilterValues:null,formMounted:!1,resizeObserver:null,showAdvancedSearchButtonText:!0,assistiveTextNotification:""}},computed:{amendedFormProps:function(){var e=this;if(!this.interpretFormChipsLabelAsHtml)return this.formProps;var t=this.formProps.fieldProps||{},i=this.renderFormChipsLabelAsHtml.reduce((function(i,n){return Object(m.a)(Object(m.a)({},i),e.addNewPropertyValueToNestedObject(n,t||{},"interpretChipsLabelAsHtml",!0,!1))}),{});return Object(m.a)(Object(m.a)({},this.formProps),{},{fieldProps:Object(m.a)(Object(m.a)({},t),i)})},filtersLoadingState:function(){var e=this;return[].concat(Object(h.a)(this.appliedFiltersInt.map((function(t,i){return e.autocompleteIndex===i}))),[this.autocompleteIndex===this.appliedFiltersInt.length])},displayedFilters:function(){var e=Object(h.a)(this.filterList).filter((function(e){return!e.hidden}));return Object(y.g)(e,this.labelPropertyName.filter)},mainFilterIndex:function(){var e=this.appliedFilters.length-1;return e>0?e:0},collapsedFiltersArray:{get:function(){var e=this;return Object.entries(this.formFilterValuesInt).filter((function(e){var t=Object(f.a)(e,2)[1];return Object(y.e)(t)})).sort((function(t,i){var n=Object(f.a)(t,1)[0],r=Object(f.a)(i,1)[0];return e.formFilterList[n]&&e.formFilterList[r]&&e.formFilterList[n]["x-attrs"].order>e.formFilterList[r]["x-attrs"].order?1:-1})).map((function(t){var i=Object(f.a)(t,2),n=i[0],r=i[1],o=e.formFilterList[n],a="array"===o.type&&!o["x-attrs"].field_type.includes("chips");return(a?r:[r]).map((function(t,i){return{labelInternal:o.title,idInternal:"".concat(n).concat(a?"-group-".concat(i):""),filter_values:e.getCollapsedFilterValue(t,o,n)}}))})).flat()},set:function(e){var t=this;this.formFilterValuesInt=e.reduce((function(e,i){var n=i.idInternal.match(/(.*?)(-group-\d*)?$/),r=Object(f.a)(n,3),o=r[1],a=r[2],s=t.formFilterList[o],l=t.setFormFilterValues(i.filter_values,s),c=a&&e&&e[o]?e[o]:[];return Object(m.a)(Object(m.a)({},e),{},Object(p.a)({},o,a?c.concat(l):l))}),{}),this.search()}},renderFormChipsLabelAsHtml:function(){if(!this.formProps.fieldProps)return this.interpretFormChipsLabelAsHtml;var e=this.filterHtmlRenderFields(this.formFilterList);return e.length?e:this.interpretFormChipsLabelAsHtml},rowId:function(){return Object(y.b)()},advancedButtonDescription:function(){return this.assistiveText.advancedButtonDescription?this.assistiveText.advancedButtonDescription.replace("{state}",this.assistiveText.formState[this.formOpen?"close":"open"]):""}},watch:{autocompleteResults:function(e){this.autocompleteIndex>=0&&(this.$set(this.filtersAutocompleteResults,this.autocompleteIndex,Object(h.a)(e)),this.autocompleteIndex=-1)},appliedFiltersInt:{handler:function(e){JSON.stringify(e)!==JSON.stringify(this.appliedFilters.slice(1))&&this.$emit("update:applied-filters",[].concat(Object(h.a)(e),[this.mainFilter]))},deep:!0},appliedFilters:{handler:function(e){if(e&&JSON.stringify(e.slice(0,-1))!==JSON.stringify(this.appliedFiltersInt)){var t=JSON.parse(JSON.stringify([e].concat(Object(h.a)(e.slice(0,-1))))),i=(n=t,Object(l.a)(n)||Object(c.a)(n)||Object(u.a)(n)||Object(d.a)());this.appliedFiltersInt=i.slice(1)}var n;if(e&&e.length>=1&&JSON.stringify(this.mainFilter)!==JSON.stringify(e[this.mainFilterIndex])){var r=JSON.parse(JSON.stringify(e.slice(-1))),o=Object(f.a)(r,1);this.mainFilter=o[0]}else(!e||e<1)&&(this.mainFilter=Object(m.a)({},this.defaultFilter))},immediate:!0},mainFilter:function(e){if(e&&e.filter_values){var t=Object(y.e)(e.filter_values),i=!!this.originalMainFilter&&!!this.originalMainFilter.filter_values&&Object(y.e)(this.originalMainFilter.filter_values);this.originalMainFilter&&(t&&this.originalMainFilter[this.identifierPropertyName.filter]!==e[this.identifierPropertyName.filter]||t!==i||t&&i&&JSON.stringify(this.originalMainFilter.filter_values!==JSON.stringify(e.filter_values)))&&(this.originalMainFilter=JSON.parse(JSON.stringify(this.mainFilter)),this.search(!0))}this.$emit("update:applied-filters",[].concat(Object(h.a)(this.appliedFiltersInt),[e])),this.$emit("update:form-filter-values",Object(m.a)(Object(m.a)({},this.formFilterValuesInt),{},{default:this.mainFilter.filter_values}))},formFilterValuesInt:{handler:function(e){var t=Object(m.a)({},this.formFilterValues);this.$delete(t,"default"),JSON.stringify(e)!==JSON.stringify(t)&&this.$emit("update:form-filter-values",Object(m.a)(Object(m.a)({},e),{},{default:this.mainFilter.filter_values}))},deep:!0},formFilterValues:{handler:function(e){if("form"===this.mode&&e&&JSON.stringify(e)!==JSON.stringify(Object(m.a)(Object(m.a)({},this.formFilterValuesInt),{},{default:this.mainFilter.filter_values}))){e.default;var t=s(e,_);this.formFilterValuesInt=JSON.parse(JSON.stringify(t)),this.$set(this.mainFilter,"filter_values",e.default||[""]),this.search()}},immediate:!0},advancedFormOpen:{handler:function(e){this.formOpen=e},immediate:!0},formOpen:function(e){this.$emit("update:advanced-form-open",e)},assistiveTextNotification:function(e){var t=this;e&&setTimeout((function(){t.assistiveTextNotification=""}),300)}},created:function(){this.mainFilter||(this.mainFilter=JSON.parse(JSON.stringify(this.defaultFilter))),this.originalMainFilter=JSON.parse(JSON.stringify(this.mainFilter))},mounted:function(){"form"===this.mode&&this.initObserver()},beforeDestroy:function(){this.resizeObserver&&this.resizeObserver.unobserve(this.$refs.searchContainer)},methods:{extractNestedPropertyValue:y.d,initObserver:function(){var e=this,t=new ResizeObserver(Object(y.c)(50,(function(t){var i=Object(f.a)(t,1)[0];e.showAdvancedSearchButtonText=i.contentRect.width>=460})));t.observe(this.$refs.searchContainer),this.resizeObserver=t},fetchAutocomplete:function(e,t){var i=e.input,n=e.filter;i?this.autocompleteIndex=t:this.$set(this.filtersAutocompleteResults,t,[]),this.$emit("fetch-autocomplete",{searchString:i,filter:n,index:t})},search:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],i="form"===this.mode?this.formFilterList:this.filterList,r=[];if(r="form"===this.mode?Object.entries(this.formFilterValuesInt).filter((function(e){var t=Object(f.a)(e,2)[1];return Object(y.e)(t)})).map((function(t){var r,o,a,s=Object(f.a)(t,2),l=s[0],c=s[1];return Object(p.a)(Object(p.a)(Object(p.a)({},e.identifierPropertyName.filter,l),"type",null!==(r=null===(o=i[l])||void 0===o||null===(o=o["x-attrs"])||void 0===o?void 0:o.field_type)&&void 0!==r?r:"text"),"filter_values","object"!==Object(n.a)(c)||!c.length||null!==(a=i[l])&&void 0!==a&&a.type.includes("chips")?c:c.filter((function(e){return Object(y.e)(e)})))})):this.appliedFiltersInt.map((function(t){return Object(p.a)(Object(p.a)(Object(p.a)({},e.identifierPropertyName.filter,t[e.identifierPropertyName.filter]),"type",t.type),"filter_values",t.filter_values)})),t||JSON.stringify(this.originalFilterValues)!==JSON.stringify(r)){this.originalFilterValues=JSON.parse(JSON.stringify(r));var o=Object(p.a)(Object(p.a)(Object(p.a)({},this.identifierPropertyName.filter,this.mainFilter[this.identifierPropertyName.filter]),"type",this.mainFilter.type),"filter_values",this.mainFilter.filter_values);this.$emit("search",[].concat(Object(h.a)(r),[o]))}},addFilterRow:function(e){var t=this,i=e.filter,n=e.input,r=i.type.includes("date")?i.filter_values:Object(h.a)(i.filter_values),o=!1;"text"!==i.type||!n.trim()||i.filter_values&&i.filter_values.length&&this.mainFilter.filter_values[0]===n.trim()?"chips"===i.type&&i.freetext_allowed&&n.trim()&&(r=[].concat(Object(h.a)(i.filter_values),[Object(p.a)({},this.labelPropertyName.autocompleteOption,n)]),o=!0):(r=[n],o=!0),this.appliedFiltersInt.push(Object(m.a)(Object(m.a)({},i),{},{filter_values:r})),this.mainFilter=Object(m.a)(Object(m.a)({},this.defaultFilter),{},{filter_values:null}),this.originalMainFilter=JSON.parse(JSON.stringify(this.mainFilter)),o&&this.search(),this.$nextTick((function(){Array.from(t.$refs.mainSearch.$el.getElementsByTagName("input")).find((function(e){return e.id.includes("search-input")})).focus()}))},removeFilter:function(e,t){this.appliedFiltersInt.splice(t,1),this.search()},updateFilter:function(e,t){this.$set(this.appliedFiltersInt,t,JSON.parse(JSON.stringify(e))),this.search()},fillOptionToForm:function(e){var t,i=this,n=e.entry,r=e.collectionId;if("form"===this.mode&&r&&(null===(t=this.formFilterValuesInt[r])||void 0===t||!t.map((function(e){return e[i.identifierPropertyName.formInputs]})).includes(n[this.identifierPropertyName.autocompleteOption]))){var o=this.formFilterList[r];if(o){var a=o["x-attrs"];if("chips"===a.field_type){var s,l=(null===(s=this.formProps.fieldProps)||void 0===s?void 0:s[r])||{},c=l.labelPropertyName||this.labelPropertyName.formInputs,u=l.identifierPropertyName||this.identifierPropertyName.formInputs,d=Object(m.a)(Object(p.a)(Object(p.a)({},c,n[this.labelPropertyName.autocompleteOption]),u,n[this.identifierPropertyName.autocompleteOption]),n);"array"===o.type?this.formFilterValuesInt[r]?this.formFilterValuesInt[r].push(d):this.$set(this.formFilterValuesInt,r,[d]):"object"===o.type&&this.$set(this.formFilterValuesInt,r,d)}else if(!a||"text"===a.field_type){var f;this.$set(this.formFilterValuesInt,r,null!==(f=n[this.labelPropertyName.autocompleteOption])&&void 0!==f?f:n)}if(this.mainFilter.filter_values=[],this.assistiveText.autocompleteOptionFilledToForm){var h=n[this.labelPropertyName.autocompleteOption],v=o.title;this.announcement=this.assistiveText.autocompleteOptionFilledToForm.replace("{optionLabel}",h).replace("{fieldLabel}",v)}this.search()}else this.$set(this.mainFilter,"filter_values",[n]),this.originalMainFilter=JSON.parse(JSON.stringify(this.mainFilter)),this.search(!0)}},fetchFormAutocomplete:function(e){this.$emit("fetch-form-autocomplete",e)},updateFormFilters:function(e){this.formFilterValuesInt=JSON.parse(JSON.stringify(e)),this.search()},removeAllFilters:function(){this.formFilterValuesInt={},this.assistiveTextNotification=this.assistiveText.collapsedFilterRowRemovedNotification||"",this.search()},formIsMounted:function(){var e=this;setTimeout((function(){e.formMounted=!0}),200)},openAdvancedSearch:function(){this.$refs.mainSearch.isActive=!1,this.formOpen=!this.formOpen},getCollapsedFilterValue:function(e,t,i){var r=this,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],a=t["x-attrs"].field_type;if("integer"===a||"float"===a||"number"==typeof e)return{values:[{labelInternal:e.toString()}],fieldId:i,fieldType:a};if("boolean"===a||"boolean"==typeof e)return{values:[{labelInternal:e}],fieldId:i,fieldType:a};if("text"===a||"autocomplete"===a||"string"==typeof e){var s=e;return"date"===a&&e&&(s=this.formatToDisplayDate(e)),{values:[{labelInternal:s}],fieldId:i,fieldType:a}}if("chips"===a){var l=Object(y.d)(o.length?[i].concat(o).join("."):i,this.formProps.fieldProps),c=(null==l?void 0:l.labelPropertyName)||this.labelPropertyName.formInputs,u=(null==l?void 0:l.identifierPropertyName)||this.identifierPropertyName.formInputs;return{values:e.map((function(e){var t,i="object"===Object(n.a)(e)?e:{};return Object(m.a)({labelInternal:null!==(t=e[c])&&void 0!==t?t:e,idInternal:e[u]||""},i)})),fieldId:i,fieldType:a}}return"group"===a?{values:Object.entries(e).reduce((function(e,i){var n=Object(f.a)(i,2),a=n[0],s=n[1];return e.push(r.getCollapsedFilterValue(s,t.items?t.items.properties[a]:t.properties[a],a,[a].concat(o))),e}),[]),fieldType:a,fieldId:i}:"date"===a&&"string"!=typeof e?{values:Object.values(e).map((function(e){return{labelInternal:e?r.formatToDisplayDate(e):""}})),fieldId:i,fieldType:Object.keys(e).reduce((function(e,t){var i=t.split("_")[0];return i!==e?e+i:e}),"")}:e},formatToDisplayDate:function(e){var t=(e.match(a(/((\x2D)?(\d{4})\x2D?(\d{2})?\x2D?(\d{2})?)/,{minus:2,year:3,month:4,day:5}))||{}).groups,i=void 0===t?{}:t,n=i.minus,r=i.year,o=i.month,s=i.day;return r?"".concat(s?"".concat(s,"."):"").concat(o?"".concat(o,"."):"").concat(n||"").concat(r):""},formatToStorageDate:function(e){var t=(e.match(a(/(\d{2})?\.?(\d{2})?\.?(\x2D)?(\d{4})/,{day:1,month:2,minus:3,year:4}))||{}).groups,i=void 0===t?{}:t,n=i.minus,r=i.year,o=i.month,s=i.day;return r?"".concat(n||"").concat(r).concat(o?"-".concat(o):"").concat(s?"-".concat(s):""):""},setFormFilterValues:function(e,t){var i=this,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=e.values,o=e.fieldType,a=e.fieldId;if("string"===t.type)return"date"===o?this.formatToStorageDate(r[0].labelInternal):r[0].labelInternal;if("boolean"===t.type)return r[0].labelInternal;if("integer"===t.type||"float"===t.type)return Number(r[0].labelInternal);if((o.includes("date")||o.includes("time"))&&"object"===t.type){var s=Object.keys(t.properties);return r.reduce((function(e,t,n){return Object(m.a)(Object(m.a)({},e),{},Object(p.a)({},s[n],i.formatToStorageDate(t.labelInternal)))}),{})}if(o.includes("chips")){var l=Object(y.d)(n.length?[a].concat(n).join("."):a,this.formProps.fieldProps),c=(null==l?void 0:l.labelPropertyName)||this.labelPropertyName.formInputs,u=(null==l?void 0:l.identifierPropertyName)||this.identifierPropertyName.formInputs;return r.filter((function(e){return!!e.labelInternal})).map((function(e){var t=JSON.parse(JSON.stringify(e));return i.$delete(t,"labelInternal"),i.$delete(t,"idInternal"),Object(m.a)(Object(m.a)({},t),{},Object(p.a)(Object(p.a)({},c,e.labelInternal),u,e.idInternal))}))}return o.includes("chips")||"array"!==t.type?"group"===o&&"object"===t.type?r.filter((function(e){return Object(y.e)(e.values)})).reduce((function(e,r){return Object(m.a)(Object(m.a)({},e),{},Object(p.a)({},r.fieldId,i.setFormFilterValues(r,t.properties[r.fieldId],[r.fieldId].concat(n))))}),{}):null:this.setFormFilterValues(e,t.items)},filterHtmlRenderFields:function(e){var t=this,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=this.formProps.fieldProps;return Object.entries(e).reduce((function(e,r){var o=Object(f.a)(r,2),a=o[0],s=o[1],l=(s["x-attrs"]?s["x-attrs"]:{}).field_type;if("group"===l){var c=t.filterHtmlRenderFields(s.properties||s.items.properties,[a].concat(i));return c.length?e.concat(Object(p.a)({},a,c)):e}if("chips"===l){var u=((i.length?Object(y.d)(i.join("."),n):n)||{})[a];if(!t.interpretFormChipsLabelAsHtml&&null!=u&&u.interpretChipsLabelAsHtml||t.interpretFormChipsLabelAsHtml&&(!u||!Object.keys(u).includes("interpretChipsLabelAsHtml")||u.interpretChipsLabelAsHtml))return e.concat(a)}return e}),[])},addNewPropertyValueToNestedObject:function(e,t,i,r){var o=this,a=arguments.length>4&&void 0!==arguments[4]&&arguments[4];if("string"==typeof e){var s=t[e]||{};return Object(p.a)({},e,Object(m.a)(Object(m.a)({},a?s:{}),{},Object(p.a)({},i,r),a?{}:s))}return"object"===Object(n.a)(e)?Object.entries(e).reduce((function(e,n){var a=Object(f.a)(n,2),s=a[0],l=a[1];return Object(m.a)(Object(m.a)({},e),{},Object(p.a)({},s,Object(m.a)(Object(m.a)({},t[s]),l.reduce((function(e,n){return Object(m.a)(Object(m.a)({},e),o.addNewPropertyValueToNestedObject(n,t[s]||{},i,r))}),{}))))}),{}):{}}}},x=(i(693),i(34)),w=Object(x.a)(I,(function(){var e=this,t=e._self._c;return t("div",{ref:"searchContainer",staticClass:"base-advanced-search"},["list"===e.mode&&e.appliedFiltersInt&&e.appliedFiltersInt.length?e._l(e.appliedFiltersInt,(function(i,n){return t("BaseAdvancedSearchRow",{key:"filter-"+n,staticClass:"base-advanced-search__filter-row",attrs:{mode:e.mode,"search-row-id":"".concat(e.rowId,"-").concat(i[e.identifierPropertyName.filter],"-").concat(n),"is-main-search":!1,"autocomplete-results":e.filtersAutocompleteResults[n],"filter-list":e.displayedFilters,"applied-filter":i,"is-loading":e.filtersLoadingState[n],"default-filter":e.defaultFilter,placeholder:e.placeholder.filterRow||e.placeholder,"autocomplete-property-names":e.autocompletePropertyNames,"label-property-name":e.labelPropertyName,"identifier-property-name":e.identifierPropertyName,"drop-down-info-texts":e.dropDownInfoTexts,"advanced-search-text":e.advancedSearchText,"assistive-text":{addFilter:e.assistiveText.addFilter,removeFilter:e.assistiveText.removeFilter,selectFilterLabel:e.assistiveText.selectFilterLabel,searchLabel:e.assistiveText.searchLabel,selectedOption:e.assistiveText.selectedOption,loaderActive:e.assistiveText.autocompleteLoaderActive,autocompleteResultsRetrieved:e.assistiveText.autocompleteResultsRetrieved,autocompleteNoResults:e.assistiveText.autocompleteNoResults,autocompleteInitial:e.assistiveText.autocompleteInitial,categoryAnnouncement:e.assistiveText.categoryAnnouncement,optionsAnnouncement:e.assistiveText.optionsAnnouncement},"date-field-delay":e.dateFieldDelay,language:e.language,"highlight-autocomplete-match":e.highlightAutocompleteMatch,"highlight-autocomplete-tags":e.highlightAutocompleteTags},on:{"remove-filter":function(t){return e.removeFilter(t,n)},"update:applied-filter":function(t){return e.updateFilter(t,n)},"fetch-autocomplete-results":function(t){return e.fetchAutocomplete(t,n)}},scopedSlots:e._u([{key:"autocomplete-option",fn:function(t){var i=t.option,n=t.collectionId;return[e._t("autocomplete-option",null,{option:i,collectionId:n})]}}],null,!0)})})):e._e(),e._v(" "),t("BaseAdvancedSearchRow",e._g({ref:"mainSearch",attrs:{"search-row-id":"main-".concat(e.rowId),mode:e.mode,"applied-filter":e.mainFilter,"filter-list":e.displayedFilters,"form-filter-list":e.formFilterList,"default-filter":e.defaultFilter,"autocomplete-results":e.filtersAutocompleteResults[e.mainFilterIndex],"is-loading":e.filtersLoadingState[e.mainFilterIndex],placeholder:e.placeholder.main||e.placeholder,"autocomplete-property-names":e.autocompletePropertyNames,"label-property-name":e.labelPropertyName,"identifier-property-name":e.identifierPropertyName,"drop-down-info-texts":e.dropDownInfoTexts,"advanced-search-text":e.advancedSearchText,"assistive-text":{addFilter:e.assistiveText.addFilter,removeFilter:e.assistiveText.removeFilter,selectFilterLabel:e.assistiveText.selectFilterLabel,searchLabel:e.assistiveText.searchLabel,selectedOption:e.assistiveText.selectedOption,loaderActive:e.assistiveText.autocompleteLoaderActive,autocompleteResultsRetrieved:e.assistiveText.autocompleteResultsRetrieved,autocompleteNoResults:e.assistiveText.autocompleteNoResults,autocompleteInitial:e.assistiveText.autocompleteInitial,categoryAnnouncement:e.assistiveText.categoryAnnouncement,optionsAnnouncement:e.assistiveText.optionsAnnouncement,results:e.assistiveText.results},"date-field-delay":e.dateFieldDelay,language:e.language,"highlight-autocomplete-match":e.highlightAutocompleteMatch,"highlight-autocomplete-tags":e.highlightAutocompleteTags},on:{"update:appliedFilter":function(t){e.mainFilter=t},"update:applied-filter":function(t){e.mainFilter=t},"add-filter-row":e.addFilterRow,"fetch-autocomplete-results":function(t){return e.fetchAutocomplete(t,e.mainFilterIndex)},"option-selected":e.fillOptionToForm},scopedSlots:e._u([{key:"after",fn:function(){return["form"===e.mode?t("BaseButton",{class:["base-advanced-search__expand-button",{"base-button-icon-rotate-180":e.formOpen}],attrs:{text:e.showAdvancedSearchButtonText?e.advancedSearchText.advancedButtonLabel:"","aria-expanded":"".concat(e.formOpen),"aria-controls":"".concat(e.rowId,"-form"),description:e.advancedButtonDescription,"button-style":"row",icon:"drop-down","icon-size":"small","icon-position":"right"},nativeOn:{click:function(t){return t.preventDefault(),t.stopPropagation(),e.openAdvancedSearch.apply(null,arguments)},keydown:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")&&e._k(t.keyCode,"space",32,t.key,[" ","Spacebar"])?null:(t.preventDefault(),t.stopPropagation(),e.openAdvancedSearch.apply(null,arguments))},focusin:function(e){e.stopPropagation()}}}):e._e()]},proxy:!0},{key:"below",fn:function(){return["form"===e.mode&&e.formOpen?t("BaseForm",e._b({class:["base-advanced-search__search-form",{"base-advanced-search__search-form--hidden":!e.formMounted}],attrs:{id:"".concat(e.rowId,"-form"),"form-field-json":e.formFilterList,"value-list":e.formFilterValuesInt,"label-property-name":e.labelPropertyName.formInputs,"identifier-property-name":e.identifierPropertyName.formInputs},on:{"input-complete":e.updateFormFilters,"fetch-autocomplete":e.fetchFormAutocomplete,"form-mounted":e.formIsMounted},scopedSlots:e._u([{key:"label-addition",fn:function(t){var i=t.fieldName,n=t.groupNames;return[e._t("form-label-addition",null,{fieldName:i,groupNames:n})]}},{key:"pre-input-field",fn:function(t){var i=t.fieldName,n=t.groupNames;return[e._t("form-pre-input-field",null,{fieldName:i,groupNames:n})]}},{key:"input-field-addition-before",fn:function(t){var i=t.fieldName,n=t.groupNames;return[e._t("form-input-field-addition-before",null,{fieldName:i,groupNames:n})]}},{key:"input-field-inline-before",fn:function(t){var i=t.fieldName,n=t.groupNames;return[e._t("form-input-field-inline-before",null,{fieldName:i,groupNames:n})]}},{key:"input-field-addition-after",fn:function(t){var i=t.fieldName,n=t.groupNames;return[e._t("form-input-field-addition-after",null,{fieldName:i,groupNames:n})]}},{key:"post-input-field",fn:function(t){var i=t.fieldName,n=t.groupNames;return[e._t("form-post-input-field",null,{fieldName:i,groupNames:n})]}},{key:"error-icon",fn:function(){return[e._t("form-error-icon")]},proxy:!0},{key:"remove-icon",fn:function(){return[e._t("form-remove-icon")]},proxy:!0},{key:"below-input",fn:function(t){var i=t.fieldName,n=t.groupNames;return[e._t("form-below-input",null,{fieldName:i,groupNames:n})]}},{key:"drop-down-entry",fn:function(i){var r=i.option,o=i.fieldName,a=i.groupNames;return[e._t("form-drop-down-entry",(function(){return["form"===e.mode&&("boolean"==typeof e.renderFormChipsLabelAsHtml&&e.renderFormChipsLabelAsHtml||"object"===Object(n.a)(e.renderFormChipsLabelAsHtml)&&(e.renderFormChipsLabelAsHtml.includes(o)||null!=a&&a.length&&e.renderFormChipsLabelAsHtml.some((function(t){return"object"===Object(n.a)(t)&&e.extractNestedPropertyValue(a.join("."),t).includes(o)}))))?[t("span",{directives:[{name:"insert-text-as-html",rawName:"v-insert-text-as-html",value:{value:r[e.labelPropertyName.formInputs],interpretTextAsHtml:!0},expression:"{\n                  value: option[labelPropertyName.formInputs],\n                  interpretTextAsHtml: true,\n                }"}]})]:e._e()]}),{fieldName:o,groupNames:a,option:r})]}}],null,!0)},"BaseForm",e.amendedFormProps,!1)):"form"===e.mode&&!e.formOpen&&e.collapsedFiltersArray.length?t("div",[t("BaseCollapsedFilterRow",{attrs:{filters:e.collapsedFiltersArray,"date-time-text":e.advancedSearchText.collapsedDateTime,"interpret-label-as-html":e.renderFormChipsLabelAsHtml,"assistive-text":{removeFiltersLabel:e.assistiveText.removeAllFiltersLabel,filterRemovedNotification:e.assistiveText.removeFilterValueNotification,appliedFiltersLabel:e.assistiveText.collapsedAppliedFiltersLabel,booleanFilterLabel:e.assistiveText.collapsedBooleanFilterValue,optionToRemoveSelected:e.assistiveText.collapsedOptionToRemoveSelected}},on:{"update:filters":function(t){e.collapsedFiltersArray=t},"remove-all":e.removeAllFilters}})],1):e._e()]},proxy:!0},{key:"autocomplete-option",fn:function(i){var r=i.option,o=i.collectionId;return[e._t("autocomplete-option",(function(){return["form"===e.mode&&("boolean"==typeof e.renderFormChipsLabelAsHtml&&e.renderFormChipsLabelAsHtml||"object"===Object(n.a)(e.renderFormChipsLabelAsHtml)&&e.renderFormChipsLabelAsHtml.includes(o))?[t("span",{directives:[{name:"insert-text-as-html",rawName:"v-insert-text-as-html",value:{value:r[e.labelPropertyName.autocompleteOption],interpretTextAsHtml:!0},expression:"{\n              value: autocompleteOption[labelPropertyName.autocompleteOption],\n              interpretTextAsHtml: true,\n            }"}]})]:e._e()]}),{option:r,collectionId:o})]}}],null,!0)},e.$listeners)),e._v(" "),e.assistiveTextNotification?t("span",{staticClass:"assistive-text",attrs:{"aria-live":"assertive"}},[e._v("\n    "+e._s(e.assistiveTextNotification)+"\n  ")]):e._e()],2)}),[],!1,null,"7f3c8028",null);t.default=w.exports},398:function(e,t,i){"use strict";i.d(t,"a",(function(){return o})),i.d(t,"b",(function(){return a})),i.d(t,"d",(function(){return s})),i.d(t,"g",(function(){return c})),i.d(t,"e",(function(){return u})),i.d(t,"c",(function(){return d})),i.d(t,"f",(function(){return p}));var n=i(19),r=i(101),o=(i(217),i(216),i(218),i(100),i(222),i(49),i(406),i(400),i(129),i(7),i(403),i(404),i(36),i(405),i(221),i(219),i(98),i(97),function(e){return e.split("/").map((function(e){return e.slice(0,1).toUpperCase()+e.slice(1)})).join("/").split(" ").map((function(e){return e.slice(0,1).toUpperCase()+e.slice(1)})).join(" ")}),a=function(){return Math.random().toString(36).substr(2,9)},s=function(e,t){return e.split(".").reduce((function(e,t){if(e)return e[t]}),t)},l=function(e){var t=e.replace(/,? [0-9-]+/g,"");if(t.includes(",")){var i=t.split(", ");return[i[0],i.splice(1).join()]}return[t.split(" ").pop(),t]},c=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",i=arguments.length>2&&void 0!==arguments[2]&&arguments[2],n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;return e.sort((function(e,o){var a=e,s=o;if(t&&(a=a[t],s=s[t]),n&&(a=n(a),s=n(s)),i){var c,u,d=l(a),p=Object(r.a)(d,2);a=p[0],c=p[1];var f=l(s),h=Object(r.a)(f,2);s=h[0],u=h[1],a.toLowerCase()===s.toLowerCase()&&(a=c,s=u)}return a.toLowerCase()>s.toLowerCase()?1:-1}))},u=function e(t){var i=!1;t&&"object"===Object(n.a)(t)?t.length>=0?t.forEach((function(t){i=e(t)||i})):Object.keys(t).forEach((function(n){i=e(t[n])||i})):i=0===t||!!t||i;return i},d=function(e,t){var i=0;return function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];clearTimeout(i),i=setTimeout((function(){return t.apply(void 0,r)}),e)}},p=function(e){var t=e.word,i=e.queryString,n=e.highlightTags,r=void 0===n?["u","strong"]:n,o=new RegExp(i,"ig"),a="<".concat(r.join("><"),">"),s="</".concat(r.join("></"),">");return t.toString().replace(o,(function(e){return"".concat(a).concat(e).concat(s)}))}},412:function(e,t,i){"use strict";i(401),i(222),i(129),i(7);t.a={computed:{hasI18n:function(){return Boolean(this.$i18n)}},methods:{getI18nTerm:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:-1,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(!e)return"";if(this.hasI18n&&this.$te(e))return t>=0?this.$tc(e,t,i):this.$t(e,i);var n=e.split(".");return n.pop()||e},setLangLabels:function(e,t){var i=this;return t.reduce((function(t,n){return i.$set(t,n,i.$i18n?i.$t(e,n):e.split(".").pop()),t}),{})},getLangLabel:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],i=this.hasI18n?this.language||this.$i18n.locale:this.language;if("string"==typeof e)return e;if(e&&i&&e[i])return e[i];if(e&&i&&t){var n=Object.keys(e).find((function(t){return!!e[t]}));return e[n]||e[i]||""}return e}}}},414:function(e,t,i){},415:function(e,t,i){},416:function(e,t,i){"use strict";function n(e,t){var i=t.value,n=i.value,r=i.interpretTextAsHtml;(r&&n!==e.innerHTML||e.innerText!==n)&&(r&&n?e.innerHTML=n:e.innerText=n)}i.d(t,"a",(function(){return n}))},417:function(e,t,i){"use strict";i(414)},418:function(e,t,i){"use strict";i.d(t,"a",(function(){return r}));var n=i(0);function r(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:300,i=Object(n.d)(null),r=Object(n.d)("");function o(){setTimeout((function(){i.value.innerText="",r.value=""}),t)}return Object(n.e)(r,(function(t){e.value?t&&(i.value.innerText=t,o()):console.warn("Announcement element could not be set because the target reference is undefined!")})),Object(n.e)(e,(function(){e.value&&(i.value=document.createElement("div"),i.value.classList.add("hide"),i.value.setAttribute("aria-live","assertive"),e.value.appendChild(i.value))})),{announcement:r}}},420:function(e,t,i){"use strict";i.r(t);var n={name:"BaseBoxTooltip",components:{BaseIcon:i(395).default},methods:{clicked:function(e){this.$emit("clicked",e)}}},r=(i(417),i(34)),o=Object(r.a)(n,(function(){var e=this,t=e._self._c;return t("span",{staticClass:"base-box-tooltip",attrs:{role:"button",tabindex:"0"},on:{keydown:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.clicked.apply(null,arguments)},click:e.clicked}},[t("BaseIcon",{staticClass:"base-box-tooltip-icon",attrs:{name:"information",alt:"information"}})],1)}),[],!1,null,"4fa16851",null);t.default=o.exports},424:function(e,t,i){"use strict";var n=i(8),r=i(2),o=i(3),a=i(106),s=i(80),l=i(23),c=o(i(105).f),u=o([].push),d=n&&r((function(){var e=Object.create(null);return e[2]=2,!c(e,2)})),p=function(e){return function(t){for(var i,r=l(t),o=s(r),p=d&&null===a(r),f=o.length,h=0,m=[];f>h;)i=o[h++],n&&!(p?i in r:c(r,i))||u(m,e?[i,r[i]]:r[i]);return m}};e.exports={entries:p(!0),values:p(!1)}},425:function(e,t,i){"use strict";i(415)},428:function(e,t,i){"use strict";i.r(t);i(37),i(40),i(216);var n=i(398),r=i(395),o=i(420),a={name:"BaseButton",components:{BaseIcon:r.default,BaseBoxTooltip:o.default},props:{text:{type:String,default:""},icon:{type:String,default:null},hideIcon:{type:Boolean,default:!1},iconPosition:{type:String,default:"left",validator:function(e){return["top","right","left"].includes(e)}},active:{type:Boolean,default:!1},buttonStyle:{type:String,default:"single",validator:function(e){return["single","row","secondary","circle"].includes(e)}},iconColored:{type:Boolean,default:!1},iconSize:{type:String,default:"small",validator:function(e){return["small","large"].includes(e)}},iconTitle:{type:String,default:""},disabled:{type:Boolean,default:!1},buttonType:{type:String,default:"button"},alignText:{type:String,default:"center",validator:function(e){return["center","left","right"].includes(e)}},hasBackgroundColor:{type:Boolean,default:!0},showTooltip:{type:Boolean,default:!1},description:{type:String,default:""},buttonTextWrap:{type:Boolean,default:!0}},data:function(){return{internalId:Object(n.b)()}},computed:{setLabelIdReference:function(){return!!this.text||!!this.$slots.text}},methods:{clicked:function(e){this.$emit("clicked",e)}}},s=(i(425),i(34)),l=Object(s.a)(a,(function(){var e=this,t=e._self._c;return t("button",{class:["base-button","base-button-".concat(e.buttonStyle),"base-button-icon-".concat(e.iconPosition),"base-button-align-".concat(e.alignText),{"base-button-background":e.hasBackgroundColor},{"base-button-active":e.active}],attrs:{disabled:e.disabled,"aria-disabled":e.disabled,"aria-labelledby":!!e.setLabelIdReference&&e.internalId,"aria-describedby":!!e.description&&"".concat(e.internalId,"-description"),type:e.buttonType},on:{click:function(t){return t.preventDefault(),e.clicked.apply(null,arguments)}}},[e.icon?t("base-icon",{class:["base-button-icon","base-button-icon-"+e.iconSize,{"base-button-icon-colored":e.iconColored},{"base-button-icon-hide":e.hideIcon}],attrs:{name:e.icon,title:e.iconTitle}}):e._e(),e._v(" "),e._t("left-of-text"),e._v(" "),e._t("text",(function(){return[e.text&&"circle"!==e.buttonStyle?t("span",{class:["base-button-text",{"base-button-text__nowrap":!e.buttonTextWrap}],attrs:{id:e.internalId}},[e._v("\n      "+e._s(e.text)+"\n    ")]):e._e()]}),{labelId:e.internalId}),e._v(" "),e._t("right-of-text"),e._v(" "),e.showTooltip?t("BaseBoxTooltip",{on:{clicked:e.clicked}}):e._e(),e._v(" "),e.description?t("span",{staticClass:"hide",attrs:{id:"".concat(e.internalId,"-description")}},[e._v("\n    "+e._s(e.description)+"\n  ")]):e._e()],2)}),[],!1,null,"72b96e82",null);t.default=l.exports},429:function(e,t,i){"use strict";t.a={methods:{navigate:function(e,t,i){var n=arguments.length>3&&void 0!==arguments[3]&&arguments[3],r=arguments.length>4&&void 0!==arguments[4]&&arguments[4],o=t?1:-1;return this.isWithinArrayLimit(e,t,i+o)?e[i+o]:i>=0&&r?null:n?e[t?0:e.length-1]:e[i]},isWithinArrayLimit:function(e,t,i){var n=t?e.length:0;return{">=":function(e,t){return e>=t},"<":function(e,t){return e<t}}[t?"<":">="](i,n)}}}},430:function(e,t,i){},433:function(e,t,i){},435:function(e,t,i){"use strict";var n=i(1),r=i(424).values;n({target:"Object",stat:!0},{values:function(e){return r(e)}})},437:function(e,t,i){"use strict";var n=i(1),r=i(424).entries;n({target:"Object",stat:!0},{entries:function(e){return r(e)}})},438:function(e,t,i){},441:function(e,t,i){"use strict";i(430)},446:function(e,t,i){"use strict";i(433)},447:function(e,t,i){"use strict";i.r(t);i(129),i(7),i(18),i(21);var n=i(398),r={name:"BaseChip",components:{BaseHoverBox:function(){return Promise.all([i.e(0),i.e(6),i.e(109)]).then(i.bind(null,1283))},BaseIcon:function(){return Promise.all([i.e(0),i.e(4)]).then(i.bind(null,395))}},directives:{insertTextAsHtml:i(416).a},model:{prop:"entry",event:"value-changed"},props:{entry:{type:String,required:!0},isLinked:{type:Boolean,default:!0},hoverBoxContent:{type:Object,default:function(){return{}}},chipActive:{type:Boolean,default:!1},isRemovable:{type:Boolean,default:!0},textStyling:{type:Object,default:function(){return{}}},editable:{type:Boolean,default:!1},assistiveText:{type:String,default:""},interpretTextAsHtml:{type:Boolean,default:!1}},data:function(){return{entryInt:"",showInfoBox:!1}},computed:{hoverBoxEnabled:function(){return this.isLinked&&!!Object.keys(this.hoverBoxContent).length},internalId:function(){return Object(n.b)()}},watch:{entry:{handler:function(e){e!==this.entryInt&&(this.entryInt=e)},immediate:!0}},methods:{updateText:function(e){var t=e.target.innerText;this.editable&&t!==this.entryInt&&(this.entryInt=t,this.$emit("value-changed",this.entryInt))},clickAction:function(e){this.editable||(e.stopPropagation(),this.$emit("clicked"),this.isLinked&&(this.$emit("hoverbox-active",!0),this.$refs.hoverBox.setPosition(e),this.showInfoBox=!this.showInfoBox))},moveBox:function(e){this.hoverBoxEnabled&&this.showInfoBox&&this.$refs.hoverBox.setPosition(e)},hideBox:function(){this.hoverBoxEnabled&&(this.$emit("hoverbox-active",!1),this.showInfoBox=!1)},onMouseDown:function(e){this.$emit("mouse-down",e)},removeClicked:function(){this.$emit("remove-entry",this.entryInt)}}},o=(i(441),i(34)),a=Object(o.a)(r,(function(){var e=this,t=e._self._c;return t("div",{class:["base-chip",{"base-chip__removable":e.isRemovable},{"base-chip__linked":e.isLinked},{"base-chip__active":e.chipActive}]},[t("div",{directives:[{name:"insert-text-as-html",rawName:"v-insert-text-as-html",value:{value:e.entryInt,interpretTextAsHtml:e.interpretTextAsHtml&&!e.editable},expression:"{ value: entryInt, interpretTextAsHtml: interpretTextAsHtml && !editable }"}],ref:"chipText",staticClass:"base-chip__text",style:e.textStyling,attrs:{contenteditable:!!e.editable&&"true","aria-labelledby":!!e.assistiveText&&"".concat(e.internalId,"_aria-label"),enterkeyhint:"search"},on:{blur:e.updateText,keydown:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:(t.preventDefault(),e.updateText.apply(null,arguments))},click:function(t){return t.stopPropagation(),e.clickAction.apply(null,arguments)},mousedown:e.onMouseDown,mousemove:e.moveBox,mouseleave:e.hideBox}}),e._v(" "),e.assistiveText?t("span",{staticClass:"hide",attrs:{id:"".concat(e.internalId,"_aria-label")}},[e._v("\n    "+e._s(e.assistiveText)+"\n  ")]):e._e(),e._v(" "),e.isRemovable?t("BaseIcon",{staticClass:"base-chip__icon",attrs:{name:"remove"},nativeOn:{click:function(t){return t.stopPropagation(),e.removeClicked.apply(null,arguments)}}}):e._e(),e._v(" "),t("base-hover-box",e._b({ref:"hoverBox",class:{"base-chip__hover-box__hidden":!e.hoverBoxEnabled||!e.showInfoBox}},"base-hover-box",e.hoverBoxContent,!1))],1)}),[],!1,null,"659edeb6",null);t.default=a.exports},449:function(e,t,i){"use strict";i.r(t);i(217),i(36),i(98);var n=i(19),r=i(399),o=i(402),a=(i(401),i(139),i(216),i(100),i(400),i(136),i(130),i(129),i(7),i(18),i(21),i(451)),s=i.n(a),l=i(398),c=i(456),u=i(0),d=i(418),p=i(412),f=i(429),h={name:"BaseChipsInputField",components:{BaseInput:c.default,BaseChip:function(){return Promise.all([i.e(0),i.e(112)]).then(i.bind(null,447)).then((function(e){return e.default||e}))},Draggable:s.a},mixins:[p.a,f.a],model:{prop:"input",event:"input"},props:{id:{type:String,default:""},selectedList:{type:Array,default:function(){return[]}},input:{type:String,default:""},inputType:{type:String,default:"text",validator:function(e){return["text","search"].includes(e)}},label:{type:String,required:!0},showLabel:{type:Boolean,default:!0},placeholder:{type:String,default:null},allowUnknownEntries:{type:Boolean,default:!0},allowMultipleEntries:{type:Boolean,default:!0},addSelectedEntryDirectly:{type:Boolean,default:!1},sortable:{type:Boolean,default:!1},draggable:{type:Boolean,default:!1},alwaysLinked:{type:Boolean,default:!1},hoverboxContent:{type:Object,default:function(){return{}}},isLoading:{type:Boolean,default:!1},sortText:{type:String,default:"Sort A – Z"},sortName:{type:Boolean,default:!1},language:{type:String,default:""},showInputBorder:{type:Boolean,default:!0},useFormFieldStyling:{type:Boolean,default:!0},dropDownListId:{type:String,default:""},linkedListOption:{type:[Number,String],default:null},identifierPropertyName:{type:String,default:""},labelPropertyName:{type:String,default:"label"},isStringArray:{type:Boolean,default:!1},displayChipsInline:{type:Boolean,default:!0},required:{type:Boolean,default:!1},invalid:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1},errorMessage:{type:String,default:""},showErrorIcon:{type:Boolean,default:!0},clearable:{type:Boolean,default:!1},loadable:{type:Boolean,default:!1},isActive:{type:Boolean,default:!1},inputClass:{type:String,default:""},setFocusOnActive:{type:Boolean,default:!0},chipsEditable:{type:Boolean,default:!1},assistiveText:{type:Object,default:function(){return{selectedOption:"",loaderActive:"loading.",optionAdded:"option {label} added to selected list.",optionToRemoveSelected:"option {label} from selected list marked for removal. Press delete or backspace to remove.",optionRemoved:"option {label} removed."}}},chipsRemovable:{type:Boolean,default:!0},interpretChipsLabelAsHtml:{type:Boolean,default:!1}},setup:function(){var e=Object(u.d)(null);return{chipsInputField:e,announcement:Object(d.a)(e).announcement}},data:function(){return{selectedListInt:[],isActiveInt:!1,timeout:null,fired:!1,drag:!1,indexActiveForRemove:-1,inputInt:""}},computed:{internalId:function(){return this.id||Object(l.b)()},inputListeners:function(){return Object(o.a)(Object(o.a)({},this.$listeners),{"update:is-active":function(){}})}},watch:{selectedList:{handler:function(e){var t=this;if(e){var i=e.map((function(e){return Object(o.a)(Object(o.a)({},t.isStringArray?Object(r.a)({},t.labelPropertyName,e):e),{idInt:e[t.identifierPropertyName]||t.getIdInt(e)})}));JSON.stringify(i)!==JSON.stringify(this.selectedListInt)&&(this.selectedListInt=i)}else this.selectedListInt=[]},deep:!0,immediate:!0},isActiveInt:function(e){this.$emit("update:is-active",e)},isActive:{handler:function(e){e!==this.isActiveInt&&(this.isActiveInt=e)},immediate:!0},input:{handler:function(e){e!==this.inputInt&&(this.inputInt=e)},immediate:!0},inputInt:{handler:function(e){e!==this.input&&this.$emit("input",e)},immediate:!0}},methods:{checkKeyEvent:function(e){var t=this,i=e.key;if(("Tab"!==i||this.clearable&&this.inputInt)&&("Enter"!==i||this.allowMultipleEntries)||(this.isActiveInt=!1),!this.chipsRemovable||"Backspace"!==i&&"Delete"!==i)if(this.inputInt||"ArrowRight"!==e.key&&"ArrowLeft"!==e.key)this.indexActiveForRemove=-1;else{var n="ArrowRight"===e.key,r=this.navigate(this.selectedListInt,n,this.indexActiveForRemove,!0);this.indexActiveForRemove=this.selectedListInt.indexOf(r)}else"Backspace"===i&&!this.fired&&!this.inputInt&&this.indexActiveForRemove<0?this.indexActiveForRemove=this.selectedListInt.length-1:this.indexActiveForRemove>=0&&!this.fired&&!this.inputInt&&(this.removeEntry(this.selectedListInt[this.indexActiveForRemove],this.indexActiveForRemove),this.indexActiveForRemove=-1),this.fired=!0,this.timeout&&(clearTimeout(this.timeout),this.timeout=null),this.timeout=setTimeout((function(){t.fired=!1}),200);this.indexActiveForRemove>=0&&(this.announcement=this.assistiveText.optionToRemoveSelected.replace("{label}",this.selectedListInt[this.indexActiveForRemove][this.labelPropertyName]))},removeEntry:function(e,t){var i=this,n=this.selectedListInt[t][this.labelPropertyName];this.selectedListInt.splice(t,1),this.updateParentList(this.selectedListInt),this.$emit("removed",e);var r=this.$refs.baseInput.$el.getElementsByTagName("input"),o=Array.from(r).find((function(e){return e.id===i.internalId}));o&&o.click(),setTimeout((function(){i.announcement=i.assistiveText.optionRemoved.replace("{label}",n)}),1e3)},addOption:function(){var e=this;if(this.inputInt&&this.allowUnknownEntries&&this.addSelectedEntryDirectly){var t=this.selectedListInt.find((function(t){return t[e.labelPropertyName]===e.inputInt}));if(t)this.$emit("duplicate",t);else{var i=this.allowMultipleEntries?this.selectedListInt.length:0,n=Object(r.a)({idInt:this.getIdInt()},this.labelPropertyName,this.inputInt);this.$set(this.selectedListInt,i,n),this.updateParentList(this.selectedListInt),this.announcement=this.assistiveText.optionAdded.replace("{label}",this.inputInt)}this.inputInt=""}},modifyListEntry:function(e,t){"object"===Object(n.a)(this.selectedListInt[t][this.labelPropertyName])&&void 0!==this.selectedListInt[t][this.labelPropertyName][this.language]?this.selectedListInt[t]=Object(r.a)({},this.labelPropertyName,Object(r.a)({},this.language,e)):"string"==typeof this.selectedListInt[t][this.labelPropertyName]&&(this.selectedListInt[t]=Object(r.a)({},this.labelPropertyName,e)),this.updateParentList(this.selectedListInt)},updateParentList:function(e){var t=this,i=JSON.parse(JSON.stringify(e));this.isStringArray?i=i.map((function(e){return e[t.labelPropertyName]})):e.length&&(i=i.map((function(e){return t.$delete(e,"idInt"),e}))),this.$emit("update:selected-list",i)},getIdInt:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;if(t){var i=this.selectedListInt.find((function(i){return i[e.labelPropertyName]===t[e.labelPropertyName]||i[e.labelPropertyName]===t}));if(i)return i.idInt}return Object(l.b)()},sortSelectedList:function(){this.isActiveInt=!1,Object(l.g)(this.selectedListInt,this.labelPropertyName,this.sortName,this.language?this.getLangLabel:null),this.updateParentList(this.selectedListInt)},setDragElement:function(e,t){var i=t.cloneNode(!0);i.id="chip-inline-drag",i.style.position="absolute",i.style.top="-99999px",i.style.left="-99999px",document.body.appendChild(i),e.setDragImage(i,0,0)},onDragEnd:function(){this.drag=!1;var e=document.getElementById("chip-inline-drag");e&&e.parentNode.removeChild(e),JSON.stringify(this.selectedList)!==JSON.stringify(this.selectedListInt)&&this.updateParentList(this.selectedListInt)},hoverBoxActive:function(e,t){this.$emit("hoverbox-active",{value:e,option:t})}}},m=(i(446),i(34)),v=Object(m.a)(h,(function(){var e=this,t=e._self._c;return t("div",{ref:"chipsInputField",staticClass:"base-chips-input-field"},[t("BaseInput",e._g({ref:"baseInput",attrs:{id:e.internalId,"field-type":e.inputType,placeholder:e.allowMultipleEntries||!e.selectedListInt.length?e.placeholder:"",label:e.label,"show-label":e.showLabel,"show-input-border":e.showInputBorder,"is-active":e.isActiveInt,"use-form-field-styling":e.useFormFieldStyling,"drop-down-list-id":e.dropDownListId,"linked-list-option":e.linkedListOption,"hide-input-field":!e.allowMultipleEntries&&!!e.selectedListInt.length,invalid:e.invalid,required:e.required,disabled:e.disabled,clearable:e.clearable,loadable:e.loadable,"error-message":e.errorMessage,"show-error-icon":e.showErrorIcon,"is-loading":e.isLoading,"input-class":e.inputClass,"set-focus-on-active":e.setFocusOnActive,"assistive-text":{loaderActive:e.assistiveText.loaderActive}},on:{"update:isActive":function(t){e.isActiveInt=t},"update:is-active":function(t){e.isActiveInt=t},keydown:[function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:(t.preventDefault(),e.addOption.apply(null,arguments))},e.checkKeyEvent]},scopedSlots:e._u([{key:"label-addition",fn:function(){return[e._t("label-addition"),e._v(" "),e.sortable?t("button",{staticClass:"base-chips-input-field__sort",attrs:{"aria-label":"".concat(e.label,". ").concat(e.sortText.replace(/[—–-]/,"to")),type:"button"},on:{click:function(t){return e.sortSelectedList(e.selectedListInt)}}},[e._v("\n        "+e._s(e.sortText)+"\n      ")]):e._e()]},proxy:!0},{key:"pre-input-field",fn:function(){return[e._t("pre-input-field")]},proxy:!0},{key:"input-field-addition-before",fn:function(){return[e._t("input-field-addition-before"),e._v(" "),e.displayChipsInline?t("div",{staticClass:"base-chips-input-field__chips"},[e.draggable&&!e.chipsEditable?[t("draggable",{attrs:{"set-data":e.setDragElement,"force-fallback":!0,animation:200,handle:".base-chip__text"},on:{start:function(t){e.drag=!0},end:e.onDragEnd},model:{value:e.selectedListInt,callback:function(t){e.selectedListInt=t},expression:"selectedListInt"}},[t("transition-group",{staticClass:"base-chips-input-field__chips-transition",attrs:{name:e.drag?null:"flip-list",type:"transition"}},[e._l(e.selectedListInt,(function(i,n){return[e._t("chip",(function(){return[t("BaseChip",{key:e.allowMultipleEntries?"chip-"+i.idInt:n,attrs:{id:i.idInt,entry:e.getLangLabel(i[e.labelPropertyName],!0),"hover-box-content":e.hoverboxContent,"is-linked":e.alwaysLinked||0===i[e.identifierPropertyName]||!!i[e.identifierPropertyName],"chip-active":e.indexActiveForRemove===n,"is-removable":e.chipsRemovable,"interpret-text-as-html":e.interpretChipsLabelAsHtml&&!!i[e.identifierPropertyName]},on:{"remove-entry":function(t){return e.removeEntry(i,n)},"hoverbox-active":function(t){return e.hoverBoxActive(t,i)}}})]}),null,{entry:i,index:n,indexActiveForRemove:e.indexActiveForRemove,removeEntry:e.removeEntry})]}))],2)],1)]:[e._l(e.selectedListInt,(function(i,n){return[e._t("chip",(function(){return[t("BaseChip",{key:e.allowMultipleEntries?"chip-"+i.idInt:n,attrs:{id:i.idInt,entry:e.getLangLabel(i[e.labelPropertyName],!0),"hover-box-content":e.hoverboxContent,editable:e.chipsEditable,"is-linked":e.alwaysLinked||0===i[e.identifierPropertyName]||!!i[e.identifierPropertyName],"chip-active":e.indexActiveForRemove===n,"assistive-text":e.assistiveText.selectedOption,"is-removable":e.chipsRemovable,"interpret-text-as-html":e.interpretChipsLabelAsHtml&&!!i[e.identifierPropertyName]},on:{"remove-entry":function(t){return e.removeEntry(i,n)},"value-changed":function(t){return e.modifyListEntry(t,n)},"hoverbox-active":function(t){return e.hoverBoxActive(t,i)}}})]}),null,{entry:i,index:n,indexActiveForRemove:e.indexActiveForRemove,removeEntry:e.removeEntry})]}))]],2):e._e()]},proxy:!0},{key:"input-field-inline-before",fn:function(){return[e._t("input-field-inline-before")]},proxy:!0},{key:"input-field-addition-after",fn:function(){return[e._t("input-field-addition-after")]},proxy:!0},{key:"post-input-field",fn:function(){return[e._t("post-input-field")]},proxy:!0},{key:"error-icon",fn:function(){return[e._t("error-icon")]},proxy:!0},{key:"remove-icon",fn:function(){return[e._t("remove-icon")]},proxy:!0},{key:"below-input",fn:function(){return[e._t("below-input")]},proxy:!0}],null,!0),model:{value:e.inputInt,callback:function(t){e.inputInt=t},expression:"inputInt"}},e.inputListeners))],1)}),[],!1,null,"757cc99f",null);t.default=v.exports},450:function(e,t,i){"use strict";i(438)},458:function(e,t,i){"use strict";var n=i(20);e.exports=function(e,t,i){for(var r in t)n(e,r,t[r],i);return e}},460:function(e,t,i){"use strict";var n=i(1),r=i(4),o=i(3),a=i(102),s=i(20),l=i(236),c=i(141),u=i(238),d=i(5),p=i(50),f=i(11),h=i(2),m=i(143),v=i(26),y=i(132);e.exports=function(e,t,i){var b=-1!==e.indexOf("Map"),g=-1!==e.indexOf("Weak"),O=b?"set":"add",_=r[e],I=_&&_.prototype,x=_,w={},N=function(e){var t=o(I[e]);s(I,e,"add"===e?function(e){return t(this,0===e?0:e),this}:"delete"===e?function(e){return!(g&&!f(e))&&t(this,0===e?0:e)}:"get"===e?function(e){return g&&!f(e)?void 0:t(this,0===e?0:e)}:"has"===e?function(e){return!(g&&!f(e))&&t(this,0===e?0:e)}:function(e,i){return t(this,0===e?0:e,i),this})};if(a(e,!d(_)||!(g||I.forEach&&!h((function(){(new _).entries().next()})))))x=i.getConstructor(t,e,b,O),l.enable();else if(a(e,!0)){var F=new x,A=F[O](g?{}:-0,1)!==F,S=h((function(){F.has(1)})),j=m((function(e){new _(e)})),k=!g&&h((function(){for(var e=new _,t=5;t--;)e[O](t,t);return!e.has(-0)}));j||((x=t((function(e,t){u(e,I);var i=y(new _,e,x);return p(t)||c(t,i[O],{that:i,AS_ENTRIES:b}),i}))).prototype=I,I.constructor=x),(S||k)&&(N("delete"),N("has"),b&&N("get")),(k||A)&&N(O),g&&I.clear&&delete I.clear}return w[e]=x,n({global:!0,constructor:!0,forced:x!==_},w),v(x,e),g||i.setStrong(x,e,b),x}},465:function(e,t,i){"use strict";i.r(t);var n=i(402),r=(i(401),i(459),i(139),i(216),i(129),i(7),i(18),i(398)),o={name:"BaseDropDownList",mixins:[i(412).a],props:{dropDownOptions:{type:Array,default:function(){return[]}},identifierPropertyName:{type:String,default:"id"},labelPropertyName:{type:String,default:"value"},activeOption:{type:[Object,String],default:function(){return{}}},selectedOption:{type:[Object,String],default:function(){return{}}},listId:{type:String,default:""},listBodyStyle:{type:Object,default:function(){return{}}},activeStyled:{type:Boolean,default:!0},selectStyled:{type:Boolean,default:!1},displayAsDropDown:{type:Boolean,default:!0},dropDownNoOptionsInfo:{type:String,default:""},language:{type:String,default:""},hasSubOptions:{type:Boolean,default:!1},useCustomOptionActiveBackgroundColor:{type:Boolean,default:!1},useHighlightStringMatch:{type:Boolean,default:!1},highlightStringMatch:{type:String,default:""},highlightStringTags:{type:Array,default:function(){return[]}}},data:function(){return{inputElement:null}},computed:{valueIsString:function(){return this.dropDownOptions&&this.dropDownOptions.length&&"string"==typeof this.getLangLabel(this.dropDownOptions[0][this.labelPropertyName],!0)},activeOptionIndex:function(){var e=this;return!this.hasSubOptions||this.activeOption&&void 0===this.activeOption[this.identifierPropertyName]?this.dropDownOptions.indexOf(this.activeOption):this.dropDownOptions.findIndex((function(t){return t[e.identifierPropertyName]===e.activeOption[e.identifierPropertyName]}))},noOptionsSlotHasData:function(){return!!this.$slots["no-options"]},highlightTags:function(){var e;return null!==(e=this.highlightStringTags)&&void 0!==e&&e.length?{highlightTags:this.highlightStringTags}:{}}},mounted:function(){var e=this,t=document.getElementsByTagName("input");if(t&&t.length){var i=Array.from(t);this.inputElement=i.find((function(t){return t.getAttribute("list")===e.listId})),this.inputElement&&this.inputElement.addEventListener("keydown",this.navigateOptions)}},destroyed:function(){this.inputElement&&this.inputElement.removeEventListener("keydown",this.navigateOptions)},methods:{highlight:function(e){return Object(r.f)(Object(n.a)({word:e,queryString:this.highlightStringMatch},this.highlightTags))},selected:function(e){this.$emit("update:selected-option",e)},optionHasData:function(e){return"string"==typeof e?!!e:e&&e.length?!!e.length:!(!e||!Object.keys(e).length)},navigateOptions:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=t.activeOptionHeight,n=void 0===i?0:i,r=t.activeOptionTop,o=void 0===r?0:r,a=e.key;if(["ArrowDown","ArrowUp"].includes(a)&&(!this.hasSubOptions||n)&&this.$refs.option&&this.$refs.option[this.activeOptionIndex]){var s=this.$refs.option[this.activeOptionIndex],l=n||s.clientHeight,c=s.offsetTop+o;if(this.$parent.$refs.dropDownContainer)this.$parent.navigateOptions(e,{activeOptionHeight:l,activeOptionTop:c});else{var u=this.$refs.dropDownContainer,d=this.$refs.dropDownList;d.scrollHeight>d.clientHeight&&(u=d);var p=u.scrollTop,f=u.clientHeight,h=c+l<p||c>p+f;this.hasSubOptions||this.activeOptionIndex?this.hasSubOptions||this.activeOptionIndex!==this.dropDownOptions.length-1?"ArrowDown"===e.key?h?u.scrollTo({top:c}):c+l>f+p&&u.scrollTo({top:p+l}):"ArrowUp"===e.key&&(h?u.scrollTo({top:c+l-f}):p>c&&u.scrollTo({top:p-l})):u.scrollTo({top:c+l}):u.scrollTo({top:0})}}}}},a=(i(450),i(34)),s=Object(a.a)(o,(function(){var e=this,t=e._self._c;return t("div",{ref:"dropDownContainer",staticClass:"base-drop-down-list__container",class:["base-drop-down-list__container",{"base-drop-down-list__container-drop-down-style":e.displayAsDropDown}]},[e._t("before-list"),e._v(" "),t("ul",{ref:"dropDownList",staticClass:"base-drop-down-list",style:e.listBodyStyle,attrs:{id:e.listId,"aria-activedescendant":!!e.activeOption&&e.activeOption[e.identifierPropertyName],role:"listbox"}},[e._l(e.dropDownOptions,(function(i,n){return[e.optionHasData(i[e.labelPropertyName])?t("li",{key:n,ref:"option",refInFor:!0,class:["base-drop-down-list__option",{"base-drop-down-list__option__hover":e.activeStyled},{"base-drop-down-list__option__selected":e.selectStyled&&i===e.selectedOption},{"base-drop-down-list__option__active":e.activeStyled&&n===e.activeOptionIndex},{"base-drop-down-list__option__active-custom":e.useCustomOptionActiveBackgroundColor&&n===e.activeOptionIndex}],attrs:{id:i[e.identifierPropertyName],value:e.valueIsString?e.getLangLabel(i[e.labelPropertyName],!0):i[e.identifierPropertyName],"aria-selected":e.selectStyled&&i[e.identifierPropertyName]===e.selectedOption,role:"option",tabindex:"0"},on:{keydown:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.selected(i)},click:function(t){return t.stopPropagation(),e.selected(i)},touchstart:function(e){e.stopPropagation()}}},[e._t("option",(function(){return[e.useHighlightStringMatch?[t("span",{domProps:{innerHTML:e._s(e.highlight(e.getLangLabel(i[e.labelPropertyName],!0)))}})]:[e._v("\n            "+e._s(e.getLangLabel(i[e.labelPropertyName],!0))+"\n          ")]]}),{option:i})],2):e._e()]})),e._v(" "),e.dropDownOptions.length||!e.noOptionsSlotHasData&&!e.dropDownNoOptionsInfo?e._e():t("div",{class:["base-drop-down-list__option","base-drop-down-list__no-options"]},[e.dropDownOptions.length?e._e():e._t("no-options",(function(){return[e._v("\n        "+e._s(e.dropDownNoOptionsInfo)+"\n      ")]}))],2)],2),e._v(" "),e._t("after-list")],2)}),[],!1,null,"355cfc0c",null);t.default=s.exports},468:function(e,t,i){},469:function(e,t,i){},475:function(e,t,i){"use strict";var n=i(10),r=i(230),o=i(12),a=i(50),s=i(31),l=i(476),c=i(13),u=i(78),d=i(231);r("search",(function(e,t,i){return[function(t){var i=s(this),r=a(t)?void 0:u(t,e);return r?n(r,t,i):new RegExp(t)[e](c(i))},function(e){var n=o(this),r=c(e),a=i(t,n,r);if(a.done)return a.value;var s=n.lastIndex;l(s,0)||(n.lastIndex=0);var u=d(n,r);return l(n.lastIndex,s)||(n.lastIndex=s),null===u?-1:u.index}]}))},476:function(e,t,i){"use strict";e.exports=Object.is||function(e,t){return e===t?0!==e||1/e==1/t:e!=e&&t!=t}},489:function(e,t,i){},490:function(e,t,i){},491:function(e,t,i){"use strict";i(468)},492:function(e,t,i){"use strict";i(469)},525:function(e,t,i){"use strict";i.r(t);i(216),i(7),i(221),i(219);var n=i(55),r=i(19),o=i(402),a=(i(136),i(130),i(18),i(21),i(398)),s=i(418),l=i(0),c={name:"BaseSearch",components:{BaseIcon:function(){return Promise.all([i.e(0),i.e(4)]).then(i.bind(null,395)).then((function(e){return e.default||e}))},BaseChipsInputField:function(){return Promise.all([i.e(0),i.e(2),i.e(1),i.e(31),i.e(78)]).then(i.bind(null,449)).then((function(e){return e.default||e}))},BaseInput:function(){return Promise.all([i.e(0),i.e(1),i.e(79)]).then(i.bind(null,456)).then((function(e){return e.default||e}))},BaseDateInput:function(){return Promise.all([i.e(0),i.e(9),i.e(1),i.e(11),i.e(127)]).then(i.bind(null,1406)).then((function(e){return e.default||e}))}},model:{prop:"input",event:"input"},props:{input:{type:[String,Object],default:""},selectedChips:{type:Array,default:function(){return[]}},placeholder:{type:[String,Object],default:"Search your works and events"},label:{type:String,default:"Search"},showPreInputIcon:{type:Boolean,default:!0},dropDownListId:{type:String,default:""},id:{type:String,default:""},type:{type:String,default:"text",validator:function(e){return["text","chips","chipssingle","controlled","date","daterange"].includes(e)}},linkedListOption:{type:[Number,String],default:null},loadable:{type:Boolean,default:!1},isLoading:{type:Boolean,default:!1},language:{type:String,default:"en",validator:function(e){return!e||2===e.length}},identifierPropertyName:{type:String,default:"id"},labelPropertyName:{type:String,default:"label"},invalid:{type:Boolean,default:!1},showErrorIcon:{type:Boolean,default:!0},clearable:{type:Boolean,default:!0},isActive:{type:Boolean,default:!1},setFocusOnActive:{type:Boolean,default:!0},assistiveText:{type:Object,default:function(){return{selectedOption:"",loaderActive:"loading.",results:""}}},dateFieldDelay:{type:Number,default:0}},emits:["input","update:selected-chips","update:is-active","update:assistive-text"],setup:function(e,t){var i=t.emit,n=Object(l.d)(null),r=Object(s.a)(n).announcement;return Object(l.e)(r,(function(t){t!==e.assistiveText.results&&i("update:assistive-text",Object(o.a)(Object(o.a)({},e.assistiveText),{},{results:t}))})),{search:n,announcement:r}},data:function(){return{isActiveInt:!1,textInputInt:"",dateInputInt:"",selectedChipsInt:[]}},computed:{inputComponent:function(){return"text"===this.type?"BaseInput":this.isFieldTypeChips?"BaseChipsInputField":"date"===this.type||"daterange"===this.type?"BaseDateInput":null},inputInt:{set:function(e){"date"===this.type?(this.dateInputInt=e,this.$emit("input",this.dateInputInt)):"daterange"===this.type?(this.dateInputInt=Object(o.a)({},e),this.$emit("input",this.dateInputInt)):(this.textInputInt=e,this.$emit("input",this.textInputInt))},get:function(){return"date"===this.type?this.dateInputInt.date_from||this.dateInputInt:"daterange"===this.type?"object"===Object(r.a)(this.dateInputInt)?this.dateInputInt:{date_from:this.dateInputInt,date_to:""}:this.textInputInt}},dateFieldType:function(){return"date"===this.type?"single":"daterange"===this.type&&"daterange"},languageInt:function(){return"date"===this.type||"daterange"===this.type?["de","en","fr"].includes(this.language)?this.language:"en":this.language},isFieldTypeChips:function(){return this.type.includes("chips")||"controlled"===this.type},idInt:function(){return this.id||Object(a.b)()},placeholderInt:function(){return"string"==typeof this.placeholder?this.placeholder:this.type.includes("date")?this.placeholder.date:"controlled"===this.type||"chipssingle"===this.type?this.placeholder.chips:this.placeholder[this.type]}},watch:{input:{handler:function(e){e?e!==this.inputInt&&(this.inputInt=e):(this.textInputInt="",this.dateInputInt="daterange"===this.type?{date_from:"",date_to:""}:"")},immediate:!0},inputInt:function(e){e!==this.input&&this.$emit("input",e)},selectedChips:{handler:function(e){JSON.stringify(e)!==JSON.stringify(this.selectedChipsInt)&&(this.selectedChipsInt=Object(n.a)(e))},immediate:!0},selectedChipsInt:function(e){JSON.stringify(e)!==JSON.stringify(this.selectedChips)&&this.$emit("update:selected-chips",e)},isActive:{handler:function(e){e!==this.isActiveInt&&(this.isActiveInt=e)},immediate:!0},isActiveInt:function(e){e!==this.isActive&&this.$emit("update:is-active",e)},assistiveText:{handler:function(e){this.announcement=e.results},deep:!0}},methods:{onEnter:function(e){window.visualViewport.height<window.innerHeight&&e.target.id===this.idInt&&e.target.blur()}}},u=(i(491),i(492),i(34)),d=Object(u.a)(c,(function(){var e=this,t=e._self._c;return t("form",{ref:"search",staticClass:"base-search",attrs:{action:".",role:"search"},on:{submit:function(e){e.preventDefault()},keydown:function(t){if(!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter"))return null;t.preventDefault()}}},[t(e.inputComponent,e._g({tag:"component",staticClass:"base-search__input",attrs:{id:e.idInt,"selected-list":e.selectedChipsInt,"is-active":e.isActiveInt,type:e.dateFieldType,"show-label":!1,"use-form-field-styling":!1,"show-input-border":!1,label:e.label,placeholder:e.placeholderInt,"linked-list-option":e.linkedListOption,"drop-down-list-id":e.dropDownListId||(!1).toString(),"is-loading":e.isLoading,clearable:e.clearable,invalid:e.invalid,"show-error-icon":e.showErrorIcon,language:e.languageInt,"allow-unknown-entries":"chips"===e.type,loadable:e.loadable,"chips-editable":"chips"===e.type,"label-property-name":!!e.isFieldTypeChips&&e.labelPropertyName,"identifier-property-name":!!e.isFieldTypeChips&&e.identifierPropertyName,"set-focus-on-active":e.setFocusOnActive,"add-selected-entry-directly":!0,"assistive-text":e.type.includes("date")?void 0:{selectedOption:e.assistiveText.selectedOption,loaderActive:e.assistiveText.loaderActive},"is-active-delay":e.dateFieldDelay,"allow-multiple-entries":!!e.isFieldTypeChips&&"chipssingle"!==e.type,"chips-removable":"chipssingle"!==e.type,"input-class":"base-search__input-field","field-type":"search",enterkeyhint:"search"},on:{"update:selectedList":function(t){e.selectedChipsInt=t},"update:selected-list":function(t){e.selectedChipsInt=t},"update:isActive":function(t){e.isActiveInt=t},"update:is-active":function(t){e.isActiveInt=t},keydown:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.onEnter.apply(null,arguments)}},scopedSlots:e._u([{key:"pre-input-field",fn:function(){return[e._t("pre-input-field")]},proxy:!0},{key:"input-field-addition-before",fn:function(){return[e._t("input-field-addition-before")]},proxy:!0},{key:"input-field-inline-before",fn:function(){return[t("div",{class:[e.dateFieldType&&e.showPreInputIcon?"base-search__spacing-date":"base-search__spacing"]}),e._v(" "),e._t("input-field-inline-before",(function(){return[e.showPreInputIcon?t("BaseIcon",{class:["base-search__magnifier-icon",{"base-search__magnifier-icon__date":!!e.dateFieldType},{"base-search__magnifier-icon__active":e.isActiveInt}],attrs:{name:"magnifier"}}):e._e()]}))]},proxy:!0},{key:"input-field-addition-after",fn:function(){return[e._t("input-field-addition-after")]},proxy:!0},{key:"post-input-field",fn:function(){return[e._t("post-input-field"),e._v(" "),t("div",{class:{"base-search__spacing":e.dateFieldType}})]},proxy:!0},{key:"error-icon",fn:function(){return[e._t("error-icon")]},proxy:!0},{key:"remove-icon",fn:function(){return[e._t("remove-icon")]},proxy:!0},{key:"below-input",fn:function(){return[e._t("below-input")]},proxy:!0}],null,!0),model:{value:e.inputInt,callback:function(t){e.inputInt=t},expression:"inputInt"}},e.$listeners))],1)}),[],!1,null,"b294cf8c",null);t.default=d.exports},529:function(e,t,i){"use strict";var n=i(1),r=i(530),o=i(16),a=i(30),s=i(73),l=i(133);n({target:"Array",proto:!0},{flat:function(){var e=arguments.length?arguments[0]:void 0,t=o(this),i=a(t),n=l(t,0);return n.length=r(n,t,t,i,0,void 0===e?1:s(e)),n}})},530:function(e,t,i){"use strict";var n=i(57),r=i(30),o=i(134),a=i(56),s=function(e,t,i,l,c,u,d,p){for(var f,h,m=c,v=0,y=!!d&&a(d,p);v<l;)v in i&&(f=y?y(i[v],v,t):i[v],u>0&&n(f)?(h=r(f),m=s(e,t,f,h,m,u-1)-1):(o(m+1),e[m]=f),m++),v++;return m};e.exports=s},531:function(e,t,i){"use strict";i(131)("flat")},532:function(e,t,i){"use strict";i(489)},533:function(e,t,i){"use strict";i(490)},577:function(e,t,i){},651:function(e,t,i){"use strict";i.r(t);var n=i(399),r=(i(48),i(216),i(7),i(36),i(221),i(219),i(98),i(422),i(101)),o=i(55),a=i(402),s=(i(217),i(401),i(139),i(218),i(100),i(222),i(49),i(136),i(130),i(129),i(18),i(525)),l=i(395),c=i(428),u=i(449),d=i(447),p=i(465),f=i(398),h=i(0),m=i(418),v=i(429),y=i(412),b={name:"BaseAdvancedSearchRow",components:{BaseButton:c.default,BaseDropDownList:p.default,BaseChip:d.default,BaseChipsInputField:u.default,BaseSearch:s.default,BaseIcon:l.default},mixins:[v.a,y.a],props:{searchRowId:{type:String,default:""},mode:{type:String,default:"list",validator:function(e){return["list","form"].includes(e)}},isMainSearch:{type:Boolean,default:!0},filterList:{type:Array,default:function(){return[]},validator:function(e){return!e.length||e.every((function(e){return!!e.type&&(!["chips","chipssingle"].includes(e.type)||e.freetext_allowed||!!e.options)}))}},defaultFilter:{type:Object,default:function(){return{id:"default",label:"Fulltext",type:"text",options:[]}},validator:function(e){return!e.length||e.every((function(e){return!!e.type&&(!["chips","chipssingle"].includes(e.type)||e.freetext_allowed||!!e.options)}))}},appliedFilter:{type:[Object,null],default:null,validator:function(e){return null===e||!e.length||["id","type","label"].every((function(t){return Object.keys(e).includes(t)}))}},autocompleteResults:{type:Array,default:function(){return[]}},isLoading:{type:Boolean,default:!1},language:{type:String,default:""},identifierPropertyName:{type:[Object,String],default:function(){return{filter:"id",autocompleteOption:"id",controlledVocabularyOption:"id"}}},labelPropertyName:{type:[Object,String],default:function(){return{filter:"label",autocompleteOption:"title",controlledVocabularyOption:"label"}}},autocompletePropertyNames:{type:Object,default:function(){return{label:"label",id:"id",data:"data"}},validator:function(e){return["label","id","data"].every((function(t){return Object.keys(e).includes(t)}))}},placeholder:{type:[String,Object],default:"Search and discover"},advancedSearchText:{type:Object,default:function(){return{title:"Advanced Search",subtext:"Select a filter",availableOptions:"Available options"}}},dropDownInfoTexts:{type:Object,default:function(){return{autocompleteNoOptions:"No matching options found",autocompleteOngoing:"Autocomplete is being fetched...",autocompleteInitial:"Please start typing or select a filter to see options",chipsNoOptions:"No more options available",chipsMaxOptions:"Please start typing to see options",chipsNoMatch:"No matching options were found",chipsOngoing:"Options are being loaded..."}},validator:function(e){return["autocompleteNoOptions","autocompleteOngoing","autocompleteInitial","chipsNoOptions","chipsOngoing","chipsMaxOptions","chipsNoMatch"].every((function(t){return Object.keys(e).includes(t)}))}},maxNumberControlledOptions:{type:Number,default:100},assistiveText:{type:Object,default:function(){return{addFilter:"Add filter",removeFilter:"Remove filter",selectFilterLabel:"Select filter",searchLabel:"Search for Entries",selectedOption:"",loaderActive:"loading.",autocompleteResultsRetrieved:"{optionsNumber} options found in {collectionsNumber} categories.",autocompleteNoResults:"No results found.",autocompleteInitial:"Please start typing to see suggestions.",categoryAnnouncement:"category {label}.",optionsAnnouncement:"{number} options.",results:""}}},applyBoxShadow:{type:Boolean,default:!0},dateFieldDelay:{type:Number,default:0},highlightAutocompleteMatch:{type:Boolean,default:!1},highlightAutocompleteTags:{type:Array,default:function(){return[]}}},setup:function(){var e=Object(h.d)(null);return{advancedSearchRow:e,announcement:Object(m.a)(e).announcement}},data:function(){return{currentInput:"",filter:null,activeFilter:null,filterFade:{left:!1,right:!0},activeCollectionId:"",collectionSelect:!1,activeControlledVocabularyEntry:null,activeEntry:null,isActive:!1,currentFilterType:this.appliedFilter?this.appliedFilter.type:this.defaultFilter.type,searchInputElement:null,observer:null,resizeObserver:null,filterSlotName:"pre-input-field",stopSearchClick:!1}},computed:{internalRowId:function(){return this.searchRowId||Object(f.b)()},selectedFilter:{set:function(e){var t=e.length?e.pop():this.defaultFilter;this.filter=Object(a.a)(Object(a.a)({},t),{},{filter_values:this.setFilterValues(t,this.filter)})},get:function(){return[this.filter]}},displayFilterList:function(){var e=this;return this.isMainSearch?this.filterList.filter((function(t){return t[e.identifierPropertyName.filter]!==e.defaultFilter[[e.identifierPropertyName.filter]]})):this.filterList},useAutocompleteFunctionality:function(){var e=this.filter.type;return"text"===e||"chips"===e&&this.filter.freetext_allowed},selectedOptions:{set:function(e){this.$set(this.filter,"filter_values",Object(o.a)(e))},get:function(){return this.filter.type.includes("chips")&&this.filter&&this.filter.filter_values?Object(o.a)(this.filter.filter_values):[]}},controlledVocabularyOptions:function(){var e=this;if("chips"===this.filter.type&&!this.filter.freetext_allowed){var t=this.filterList.find((function(t){return t[e.identifierPropertyName.filter]===e.filter[e.identifierPropertyName.filter]}));return t?t.options:[]}return[]},displayedOptions:function(){var e=this;if(this.controlledVocabularyOptions){var t=[].concat(this.controlledVocabularyOptions);return this.filter.filter_values&&this.filter.filter_values.length&&(t=t.filter((function(t){return!e.filter.filter_values.map((function(t){return t[e.identifierPropertyName.controlledVocabularyOption]})).includes(t[e.identifierPropertyName.controlledVocabularyOption])}))),this.currentInput&&(t=t.filter((function(t){return t[e.labelPropertyName.filter].toLowerCase().includes(e.currentInput.toLowerCase())}))),Object(f.g)(t,this.labelPropertyName.controlledVocabularyOption,!1,this.getLangLabel)}return[]},resultListInt:function(){var e=this;if(this.useAutocompleteFunctionality){var t=this.autocompleteResults;if(this.filter[this.identifierPropertyName.filter]!==this.defaultFilter[this.identifierPropertyName.filter]&&(t=t.filter((function(t){return t[e.autocompletePropertyNames.id]===e.filter[e.identifierPropertyName.filter]||e.filter.subsets&&e.filter.subsets.length&&e.filter.subsets.includes(t[e.autocompletePropertyNames.id])}))),t=t.filter((function(t){return t[e.autocompletePropertyNames.data]&&t[e.autocompletePropertyNames.data].length})),this.selectedOptions&&this.selectedOptions.length){var i=this.selectedOptions.map((function(t){return t[e.identifierPropertyName.autocompleteOption]}));return t.map((function(t){return Object(n.a)(Object(n.a)({data:t[e.autocompletePropertyNames.data].filter((function(t){return!i.includes(t[e.identifierPropertyName.autocompleteOption])}))},e.autocompletePropertyNames.id,t[e.autocompletePropertyNames.id]),e.autocompletePropertyNames.label,t[e.autocompletePropertyNames.label])}))}return t}return[]},consolidatedResultList:function(){var e=this;return this.resultListInt.reduce((function(t,i){return e.$set(t,i[e.autocompletePropertyNames.id],i[e.autocompletePropertyNames.data]),t}),{})},filterHasValues:function(){return this.filter[this.identifierPropertyName.filter]!==this.defaultFilter[this.identifierPropertyName.filter]||Object(f.e)(this.filter.filter_values)},searchType:function(){if(this.filter){var e=this.filter.type;return"chips"!==e||this.filter.freetext_allowed?e:"controlled"}return"text"}},watch:{filter:{handler:function(e){JSON.stringify(e)!==JSON.stringify(this.appliedFilter)&&this.$emit("update:applied-filter",Object(a.a)({},e))},deep:!0},defaultFilter:{handler:function(e){this.filter&&"default"!==this.filter.id||(this.filter=Object(a.a)(Object(a.a)({},e),{},{filter_values:this.setFilterValues(e)}))},immediate:!0},appliedFilter:{handler:function(e){if(JSON.stringify(e)!==JSON.stringify(this.filter)){var t=e||this.defaultFilter;this.filter=Object(a.a)(Object(a.a)({},t),{},{filter_values:t.filter_values||this.setFilterValues(t)}),e&&e.filter_values?e.type.includes("date")?this.currentInput=e.filter_values:"text"===e.type?this.currentInput=e.filter_values[0]||"":this.currentInput="":this.currentInput=""}},immediate:!0,deep:!0},currentInput:{handler:function(e){this.useAutocompleteFunctionality&&this.$emit("fetch-autocomplete-results",{input:e,filter:this.filter})},immediate:!0},isActive:function(e){var t=this;e&&(this.filterFade={left:!1,right:!0},this.activeEntry||setTimeout((function(){t.isActive&&t.assembleAutocompleteResultsAnnouncement()}),300)),!e&&"chips"===this.filter.type&&this.currentInput&&this.currentInput.trim()?!this.filter.freetext_allowed||this.selectedOptions&&this.selectedOptions.some((function(e){return!e[t.identifierPropertyName.autocompleteOption]&&e[t.labelPropertyName.autocompleteOption]===t.currentInput}))?this.resetAllInput():this.addOption(Object(n.a)({},this.labelPropertyName.autocompleteOption,this.currentInput)):e||"text"!==this.filter.type||this.filter.filter_values.join()===this.currentInput||this.addOption(this.currentInput),this.$emit("is-active",e)},autocompleteResults:function(){this.activeEntry=null,this.activeCollectionId="",this.isActive&&this.assembleAutocompleteResultsAnnouncement()},displayedOptions:function(){this.activeControlledVocabularyEntry=null}},mounted:function(){this.getSearchInputElement(),this.initObservers()},updated:function(){this.$refs.filterBox&&this.$refs.filterBox.addEventListener("scroll",this.calcFadeOut)},beforeDestroy:function(){this.resizeObserver&&this.resizeObserver.unobserve(this.$refs.advancedSearchRow)},destroyed:function(){this.$refs.filterBox&&this.$refs.filterBox.removeEventListener("scroll",this.calcFadeOut)},methods:{addFilterRow:function(){this.$emit("add-filter-row",{filter:this.filter,input:this.currentInput})},removeFilter:function(){this.isMainSearch?(this.filter=Object(a.a)(Object(a.a)({},this.defaultFilter),{},{filter_values:this.setFilterValues(this.defaultFilter)}),this.resetAllInput(),this.isActive=!1):this.$emit("remove-filter",this.filter)},selectFilter:function(e){if(e&&this.filter[this.identifierPropertyName.filter]!==e[this.identifierPropertyName.filter]){var t=this.filter,i=this.currentInput;this.filter=Object(a.a)(Object(a.a)({},e),{},{filter_values:this.setFilterValues(e,t)}),this.resetAllInput(),this.activeFilter=null,["text","chips"].includes(e.type)&&["text","chips"].includes(t.type)&&("text"!==t.type||t.filter_values[0]!==i)&&(this.currentInput=i,("text"===e.type||"chips"===e.type&&e.freetext_allowed)&&this.currentInput&&!this.autocompleteResults.some((function(t){return t.filter_id===e.id}))&&this.$emit("fetch-autocomplete-results",{input:this.currentInput,filter:this.filter})),this.filter.type.includes("date")&&(this.currentInput=this.filter.filter_values),"chipssingle"===this.filter.type&&this.addOption(this.filter.options[0])}this.searchInputElement&&this.searchInputElement.focus()},navigateFilters:function(e){if(this.filterList.length&&this.isActive&&this.$refs.dropDown){var t=this.filterList.indexOf(this.activeFilter),i=this.$refs.dropDown.$el;this.$refs.filterOption&&0!==i.scrollTop&&this.$refs.dropDown.$el.scrollTo({top:0});var n="ArrowDown"===e.key;this.activeFilter=this.navigate(this.filterList,n,t,!0)}},addOption:function(e){var t=this,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",r=i||this.defaultFilter[this.identifierPropertyName.filter];if(this.filterList&&this.filterList.length)if(!this.useAutocompleteFunctionality||!e[this.identifierPropertyName.autocompleteOption]||this.filter[this.identifierPropertyName.filter]===r||this.filter.subsets&&this.filter.subsets.length&&this.filter.subsets.includes(r))this.selectedOptions=this.filter.filter_values.concat(e);else{var o=this.filterList.find((function(e){return e[t.identifierPropertyName.filter]===(t.activeCollectionId||i)}))||this.defaultFilter,s=o[this.identifierPropertyName.filter]===this.defaultFilter[this.identifierPropertyName.filter]?[].concat(e[this.labelPropertyName.autocompleteOption]):[].concat(e),l=this.filter.filter_values&&1===this.filter.filter_values.length&&"string"==typeof this.filter.filter_values[0]?[Object(n.a)({},this.labelPropertyName.autocompleteOption,this.filter.filter_values[0])]:[];this.filter=Object(a.a)(Object(a.a)({},o),{},{filter_values:l.concat(s)})}else this.$emit("option-selected",{entry:e,collectionId:r}),r!==this.defaultFilter[this.identifierPropertyName.filter]&&this.resetAllInput();"text"===this.filter.type||"chips"===this.filter.type&&!this.filter.freetext_allowed&&this.displayedOptions.length?this.activeControlledVocabularyEntry=null:this.resetAllInput(),("chips"!==this.filter.type||this.filter.freetext_allowed)&&(this.isActive=!1)},selectOptionOnKeyEnter:function(){var e=this;if("chips"===this.filter.type&&this.activeControlledVocabularyEntry)this.addOption(this.activeControlledVocabularyEntry);else if(this.useAutocompleteFunctionality&&this.activeEntry)this.addOption(this.activeEntry,this.activeCollectionId);else if("text"===this.filter.type){var t=[].concat(this.currentInput);JSON.stringify(this.filter.filter_values)!==JSON.stringify(t)?(this.$set(this.filter,"filter_values",[].concat(this.currentInput)),this.isActive=!1):this.isActive=!this.isActive}else!("chips"===this.filter.type&&this.filter.freetext_allowed&&this.currentInput&&this.currentInput.trim())||this.selectedOptions&&this.selectedOptions.some((function(t){return!t[e.identifierPropertyName.autocompleteOption]&&t[e.labelPropertyName.autocompleteOption]===e.currentInput}))?this.currentInput||(this.isActive=!this.isActive):this.addOption(Object(n.a)({},this.labelPropertyName.autocompleteOption,this.currentInput))},handleKeyDownEvent:function(e){var t=e.key;["Tab","Enter"," ","Shift"].includes(t)?" "!==t||this.currentInput||(this.isActive=!this.isActive,e.preventDefault()):this.isActive=!0},assembleAutocompleteResultsAnnouncement:function(){if(this.resultListInt.length&&this.assistiveText.autocompleteResultsRetrieved){var e=this.resultListInt.reduce((function(e,t){return e+t.data.length}),0);this.announcement=this.assistiveText.autocompleteResultsRetrieved.replace("{optionsNumber}",e.toString()).replace("{collectionsNumber}",this.resultListInt.length.toString())}else!this.resultListInt.length&&this.currentInput&&this.assistiveText.autocompleteNoResults?this.announcement=this.assistiveText.autocompleteNoResults:this.resultListInt.length||this.currentInput||!this.assistiveText.autocompleteInitial||(this.announcement=this.assistiveText.autocompleteInitial)},openDropDown:function(){!this.isActive&&"list"===this.mode&&this.searchInputElement&&this.searchInputElement.focus(),this.isActive=!0},navigateDropDown:function(e){e.preventDefault();var t="ArrowDown"===e.key;if(this.controlledVocabularyOptions&&this.controlledVocabularyOptions.length&&("ArrowDown"===e.key||"ArrowUp"===e.key)){var i=this.displayedOptions.indexOf(this.activeControlledVocabularyEntry);this.activeControlledVocabularyEntry=this.navigate(this.displayedOptions,t,i,!0)}else this.navigateAutocomplete(e,t)},navigateAutocomplete:function(e,t){var i=this;if(e.preventDefault(),this.resultListInt.length){var n=this.activeCollectionId,o=e.key;if("ArrowDown"===o||"ArrowUp"===o){this.activeCollectionId||(this.activeCollectionId=this.resultListInt[0][this.autocompletePropertyNames.id]);var a=this.resultListInt.map((function(e){return e[i.autocompletePropertyNames.id]})).indexOf(this.activeCollectionId),s=this.consolidatedResultList[this.activeCollectionId],l=t?1:-1,c=s.indexOf(this.activeEntry),u=this.isWithinArrayLimit(this.resultListInt,t,a+l);if(!this.collectionSelect&&this.isWithinArrayLimit(s,t,c+l))this.activeEntry=this.navigate(s,t,c);else if(this.collectionSelect||t||0!==a||0!==c)if(u){this.activeCollectionId=this.resultListInt[a+l][this.autocompletePropertyNames.id],s=this.consolidatedResultList[this.activeCollectionId];var d=t||this.collectionSelect?0:s.length-1;this.activeEntry=s[d]}else if(u||a!==this.resultListInt.length-1||c!==s.length-1){if(!u&&0===a&&-1===c){this.activeCollectionId=this.resultListInt[this.resultListInt.length-1][this.autocompletePropertyNames.id];var p=(s=this.consolidatedResultList[this.activeCollectionId]).slice(-1),f=Object(r.a)(p,1);this.activeEntry=f[0]}}else{this.activeCollectionId=this.resultListInt[0][this.autocompletePropertyNames.id];var h=s=this.consolidatedResultList[this.activeCollectionId],m=Object(r.a)(h,1);this.activeEntry=m[0]}else this.activeEntry=null,this.activeCollectionId=""}else"ArrowLeft"===o?this.collectionSelect=!0:"ArrowRight"===o&&(this.collectionSelect=!1);if(this.activeCollectionId&&!this.collectionSelect&&n!==this.activeCollectionId&&this.assistiveText.categoryAnnouncement){var v=this.autocompleteResults.find((function(e){return e[i.autocompletePropertyNames.id]===i.activeCollectionId}))[this.autocompletePropertyNames.label];this.announcement=this.assistiveText.categoryAnnouncement.replace("{label}",v)}}},handleDropDownOnTabKey:function(e){var t=this.$el.getElementsByTagName("input"),i=Array.from(t).filter((function(e){return e.id.includes("search")}));if(t){var n=i.indexOf(e.target);(!e.shiftKey&&n>=i.length-1||e.shiftKey&&n<=0)&&(this.isActive=!1)}},handleDateInput:function(e){this.filter.type.includes("date")&&JSON.stringify(e)!==JSON.stringify(this.filter.filter_values)&&(this.currentInput=e,this.$set(this.filter,"filter_values",this.currentInput),this.isActive=!1)},setFilterValues:function(e){var t=this,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=i.filter_values,o=e.type,a=e.freetext_allowed;return"date"===o?i.type&&i.type.includes("date")&&r?r.date_from||r.date_to:"":"daterange"===o?i.type.includes("date")?{date_from:r&&(r.date_from||r)||"",date_to:r&&r.to?r.to:""}:{date_from:"",date_to:""}:"chips"===o&&a&&"chips"===i.type&&i.freetext_allowed?e.subsets&&e.subsets.includes(i[this.identifierPropertyName.filter])?r:r&&r.length?r.filter((function(e){return!e[t.identifierPropertyName.autocompleteOption]})):[]:"text"===i.type&&r&&r.length&&r[0]&&"chips"===o&&a?[Object(n.a)({},this.labelPropertyName.autocompleteOption,r[0])]:[]},resetAllInput:function(){this.currentInput="",this.activeEntry=null,this.activeCollectionId="",this.activeControlledVocabularyEntry=null},calcFadeOut:function(e){var t=e.target,i=t.scrollLeft,n=t.scrollWidth-t.clientWidth;this.filterFade={left:0!==i,right:i!==n}},onTab:function(e){e.shiftKey||(this.isActive=!1)},onClickedOutsideSearch:function(e){var t=this;this.isActive=!1,"touchstart"===e.type&&(this.stopSearchClick=!0,setTimeout((function(){t.stopSearchClick=!1}),500))},onSearchClick:function(e){this.stopSearchClick?(e.stopPropagation(),this.isActive=!1,this.stopSearchClick=!1):this.isActive=!0},initObservers:function(){var e=new MutationObserver(this.filterChangeObserverAction);e.observe(this.$refs.advancedSearchRow,{subtree:!0,childList:!0}),this.observer=e;var t=new ResizeObserver(this.resizeActions);t.observe(this.$refs.advancedSearchRow),this.resizeObserver=t},filterChangeObserverAction:function(){this.getSearchInputElement(),this.filter.type!==this.currentFilterType&&this.isActive&&this.searchInputElement&&(this.searchInputElement.focus(),this.currentFilterType=this.filter.type)},resizeActions:function(){var e=this.$refs.advancedSearchRow,t=this.$refs.baseSearch;if(t){var i=t.$el.clientWidth;this.$el.style.setProperty("--col-number",Math.floor((i-i/4)/180)||1)}if(e){var n=e.clientWidth;this.filterSlotName=n>=500?"pre-input-field":"input-field-addition-before"}},getSearchInputElement:function(){var e=this,t=this.$el.getElementsByTagName("input");t&&t.length&&(this.searchInputElement=Array.from(t).find((function(t){return t.id.includes("search-input")&&t.id.includes(e.searchRowId)})))}}},g=(i(532),i(533),i(34)),O=Object(g.a)(b,(function(){var e=this,t=e._self._c;return t("div",{ref:"advancedSearchRow",staticClass:"base-advanced-search-row",on:{click:e.openDropDown}},[t("BaseSearch",e._g({ref:"baseSearch",class:["base-advanced-search-row__search",{"base-advanced-search-row__search__shadow":e.applyBoxShadow}],attrs:{id:"search-input-"+e.internalRowId,"show-pre-input-icon":e.isMainSearch&&e.filter[e.identifierPropertyName.filter]===e.defaultFilter[e.identifierPropertyName.filter],label:e.assistiveText.searchLabel||"Search for Entries",type:e.searchType,"selected-chips":e.selectedOptions,loadable:"text"===e.filter.type||"chips"===e.filter.type,"is-loading":e.isLoading,placeholder:e.placeholder,"drop-down-list-id":"controlled"===e.searchType?"controlled-options-".concat(e.internalRowId):"autocomplete-options-"+e.internalRowId,language:e.language,"identifier-property-name":e.useAutocompleteFunctionality?e.identifierPropertyName.autocompleteOption:e.identifierPropertyName.controlledVocabularyOption,"label-property-name":e.useAutocompleteFunctionality?e.labelPropertyName.autocompleteOption:e.labelPropertyName.controlledVocabularyOption,"is-active":e.isActive,"set-focus-on-active":!1,clearable:!1,"assistive-text":{selectedOption:e.assistiveText.selectedOption,loaderActive:e.assistiveText.loaderActive,results:e.assistiveText.results},"date-field-delay":e.dateFieldDelay,"linked-list-option":e.activeEntry?e.collectionSelect?e.activeCollectionId:e.activeEntry[e.identifierPropertyName.autocompleteOption]:e.activeControlledVocabularyEntry?e.activeControlledVocabularyEntry[e.identifierPropertyName.controlledVocabularyOption]:void 0},on:{"update:selectedChips":function(t){e.selectedOptions=t},"update:selected-chips":function(t){e.selectedOptions=t},"update:isActive":function(t){e.isActive=t},"update:is-active":function(t){e.isActive=t},"clicked-outside":e.onClickedOutsideSearch,keydown:[e.handleKeyDownEvent,function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"up",38,t.key,["Up","ArrowUp"])&&e._k(t.keyCode,"down",40,t.key,["Down","ArrowDown"])&&e._k(t.keyCode,"right",39,t.key,["Right","ArrowRight"])&&e._k(t.keyCode,"left",37,t.key,["Left","ArrowLeft"])||"button"in t&&2!==t.button||"button"in t&&0!==t.button?null:e.navigateDropDown.apply(null,arguments)},function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"tab",9,t.key,"Tab")?null:e.handleDropDownOnTabKey.apply(null,arguments)},function(t){if(!t.type.indexOf("key")&&e._k(t.keyCode,"esc",27,t.key,["Esc","Escape"]))return null;e.isActive=!1}],"!keydown":function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.selectOptionOnKeyEnter.apply(null,arguments)},"value-validated":e.handleDateInput},nativeOn:{click:function(t){return e.onSearchClick.apply(null,arguments)}},scopedSlots:e._u([{key:e.filterSlotName,fn:function(){return["list"===e.mode?t("BaseChipsInputField",{class:["base-advanced-search-row__first-column",{"base-advanced-search-row__first-column__small":"input-field-addition-before"===e.filterSlotName},"base-advanced-search-row__filter-input",{hide:e.isMainSearch&&e.filter[e.identifierPropertyName.filter]===e.defaultFilter[e.identifierPropertyName.filter]},{"base-advanced-search-row__filter-input__date":e.filter.type.includes("date")}],attrs:{id:"search-filter-select-"+e.internalRowId,"selected-list":e.selectedFilter,"allow-multiple-entries":!1,"allow-unknown-entries":!1,"allow-dynamic-drop-down-entries":!1,"linked-list-option":e.activeFilter?"filter-option-".concat(e.activeFilter[e.identifierPropertyName.filter]):null,"use-form-field-styling":!1,"show-input-border":!1,"show-label":!1,label:e.assistiveText.selectFilterLabel||"Select filter",language:e.language,"drop-down-list-id":"filter-options-"+e.internalRowId,"identifier-property-name":e.identifierPropertyName.filter,"label-property-name":e.labelPropertyName.filter,"input-class":"input-field-addition-before"===e.filterSlotName?"":"base-advanced-search-row__input-field"},on:{"update:selectedList":function(t){e.selectedFilter=t},"update:selected-list":function(t){e.selectedFilter=t},click:function(t){e.isActive=!0},keydown:[e.handleKeyDownEvent,function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"tab",9,t.key,"Tab")?null:e.handleDropDownOnTabKey.apply(null,arguments)},function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.selectFilter(e.activeFilter)},function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"up",38,t.key,["Up","ArrowUp"])&&e._k(t.keyCode,"down",40,t.key,["Down","ArrowDown"])?null:e.navigateFilters.apply(null,arguments)}]},scopedSlots:e._u([{key:"chip",fn:function(i){var n=i.entry;return[t("span",{key:"chip-"+n.idInt,staticClass:"base-advanced-search-row__selected-filter-label",attrs:{id:n.idInt}},[e._v("\n            "+e._s("#".concat(e.getLangLabel(n[e.labelPropertyName.filter],!0)))+"\n          ")])]}}],null,!1,977321130)}):e._e()]},proxy:!0},{key:"post-input-field",fn:function(){return[!e.isMainSearch||e.filterHasValues||"text"===e.filter.type&&e.currentInput?t("button",{class:["base-advanced-search-row__icon-button",{"base-advanced-search-row__icon-button__date":e.filter.type.includes("date")}],on:{keydown:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"tab",9,t.key,"Tab")?null:e.onTab.apply(null,arguments)},focusin:function(e){e.stopPropagation(),e.preventDefault()},click:function(t){return t.stopPropagation(),t.preventDefault(),e.removeFilter.apply(null,arguments)}}},[t("BaseIcon",{staticClass:"base-advanced-search-row__search-row-icon",attrs:{title:e.assistiveText.removeFilter||"Remove filter",name:"remove"}})],1):e._e(),e._v(" "),e._t("after")]},proxy:!0},{key:"below-input",fn:function(){return[e.isActive?t("BaseDropDownList",{ref:"dropDown",staticClass:"base-advanced-search-row__drop-down-body",attrs:{"drop-down-options":e.resultListInt,"active-option":Object(n.a)({},e.autocompletePropertyNames.id,e.activeCollectionId),"list-id":"autocomplete-options-"+e.internalRowId,"active-styled":!1,"has-sub-options":!0,"display-as-drop-down":!1,"use-custom-option-active-background-color":!0,language:e.language,"identifier-property-name":e.autocompletePropertyNames.id,"label-property-name":e.autocompletePropertyNames.data,"list-body-style":{"max-height":"400px","overflow-y":"auto"}},nativeOn:{touchstart:function(e){e.stopPropagation()},click:function(e){e.stopPropagation()}},scopedSlots:e._u(["list"===e.mode?{key:"before-list",fn:function(){return[t("div",{class:["base-advanced-search-row__above-list-area","base-advanced-search-row__area-padding",{"base-advanced-search-row__above-list-area-filters":"text"===e.filter.type||"chips"===e.filter.type}]},[t("div",{staticClass:"base-advanced-search-row__filter-area-wrapper"},[t("div",{staticClass:"base-advanced-search-row__first-column base-advanced-search-row__filter-area"},[t("div",{staticClass:"base-advanced-search-row__filter-area-header"},[t("div",{staticClass:"base-advanced-search-row__filter-text"},[e._v("\n                    "+e._s(e.getI18nTerm(e.getLangLabel(e.advancedSearchText.title)))+"\n                  ")]),e._v(" "),t("div",{staticClass:"base-advanced-search-row__filter-subtext"},[e._v("\n                    "+e._s(e.getI18nTerm(e.getLangLabel(e.advancedSearchText.subtext)))+"\n                  ")])]),e._v(" "),t("span",{staticClass:"base-advanced-search-row__filter-area-close",on:{keydown:function(t){if(!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter"))return null;e.isActive=!1},click:function(t){t.stopPropagation(),e.isActive=!1}}},[t("BaseIcon",{staticClass:"rotate-180 base-advanced-search-row__filter-area-close-icon",attrs:{name:"drop-down"}})],1)]),e._v(" "),t("div",{class:["base-advanced-search-row__columns","base-advanced-search-row__filter-list-wrapper",{"base-advanced-search-row__filter-list-wrapper__fade-right":e.filterFade.right},{"base-advanced-search-row__filter-list-wrapper__fade-left":e.filterFade.left}]},[t("ul",{ref:"filterBox",staticClass:"base-advanced-search-row__filter-list",attrs:{id:"filter-options-"+e.internalRowId,role:"listbox"}},e._l(e.displayFilterList,(function(i,n){return t("li",{key:n,ref:"filterOption",refInFor:!0,staticClass:"base-advanced-search-row__filter base-advanced-search-row__column-item",class:[{"base-advanced-search-row__filter-active":e.activeFilter===i},{"base-advanced-search-row__filter-selected":e.filter&&e.filter[e.identifierPropertyName.filter]===i[e.identifierPropertyName.filter]}],attrs:{id:"filter-option-".concat(i[e.identifierPropertyName.filter]),"aria-selected":(e.filter&&e.filter[e.identifierPropertyName.filter]===i[e.identifierPropertyName.filter]).toString(),tabindex:"-1",role:"option"},on:{keydown:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:(t.stopPropagation(),e.selectFilter(i))},click:function(t){return t.stopPropagation(),e.selectFilter(i)}}},[e._v("\n                    "+e._s("#".concat(i[e.labelPropertyName.filter]))+"\n                  ")])})),0)])])])]},proxy:!0}:null,{key:"option",fn:function(i){var n=i.option;return[!e.filter||e.useAutocompleteFunctionality?t("div",{staticClass:"base-advanced-search-row__autocomplete-body"},[n[e.autocompletePropertyNames.data].length?t("div",{class:["base-advanced-search-row__first-column","base-advanced-search-row__autocomplete-collection"]},[t("div",{staticClass:"base-advanced-search-row__autocomplete-collection-text"},[e._v("\n                "+e._s(n[e.autocompletePropertyNames.label])+"\n                "),e.assistiveText.optionsAnnouncement?t("span",{staticClass:"hide"},[e._v(e._s(e.assistiveText.optionsAnnouncement.replace("{number}",n[e.autocompletePropertyNames.data].length)))]):e._e()])]):e._e(),e._v(" "),t("BaseDropDownList",{staticClass:"base-advanced-search-row__autocomplete-options",attrs:{"drop-down-options":n[e.autocompletePropertyNames.data],"active-option":e.activeCollectionId===n[e.autocompletePropertyNames.id]?e.activeEntry:{},"display-as-drop-down":!1,"list-id":"autocomplete-options-"+e.internalRowId,language:e.language,"identifier-property-name":e.identifierPropertyName.autocompleteOption,"label-property-name":e.labelPropertyName.autocompleteOption,"use-highlight-string-match":e.highlightAutocompleteMatch,"highlight-string-tags":e.highlightAutocompleteTags,"highlight-string-match":e.currentInput},on:{"update:selected-option":function(t){return e.addOption(t,n[e.autocompletePropertyNames.id])}},scopedSlots:e._u([{key:"option",fn:function(t){var i=t.option;return[e._t("autocomplete-option",null,{option:i,collectionId:n[e.autocompletePropertyNames.id]})]}}],null,!0)})],1):e._e()]}},"chips"!==e.filter.type||e.filter.freetext_allowed?null:{key:"after-list",fn:function(){return[t("div",{staticClass:"base-advanced-search-row__above-list-area base-advanced-search-row__chips-area base-advanced-search-row__area-padding"},[t("div",{class:["base-advanced-search-row__chips-row",{"base-advanced-search-row__chips-row__no-options":"chips"===e.filter.type&&!e.displayedOptions.length}]},[t("div",{staticClass:"base-advanced-search-row__controlled-options-title base-advanced-search-row__first-column"},[e._v("\n                "+e._s(e.getI18nTerm(e.getLangLabel(e.advancedSearchText.availableOptions)))+"\n              ")]),e._v(" "),e.controlledVocabularyOptions&&e.displayedOptions.length&&(e.displayedOptions.length<=e.maxNumberControlledOptions||e.currentInput&&e.currentInput.length>=4)?t("ul",{staticClass:"base-advanced-search-row__chips-list base-advanced-search-row__columns",attrs:{id:"controlled-options-".concat(e.internalRowId),role:"listbox"}},e._l(e.displayedOptions,(function(i){return t("li",{key:i[e.identifierPropertyName.controlledVocabularyOption],staticClass:"base-advanced-search-row__column-item",attrs:{id:i[e.identifierPropertyName.controlledVocabularyOption],value:i[e.labelPropertyName.controlledVocabularyOption],"aria-selected":(e.activeControlledVocabularyEntry&&i[e.identifierPropertyName.controlledVocabularyOption]===e.activeControlledVocabularyEntry[e.identifierPropertyName.controlledVocabularyOption]||!1).toString(),role:"option",tabindex:"0"},on:{mouseenter:function(t){e.activeControlledVocabularyEntry=i},focusin:function(t){e.activeControlledVocabularyEntry=i},mouseleave:function(t){e.activeControlledVocabularyEntry=null},focusout:function(t){e.activeControlledVocabularyEntry=null}}},[t("BaseChip",{staticClass:"base-advanced-search-row__option-chip",attrs:{"is-removable":!1,entry:e.getLangLabel(i[e.labelPropertyName.controlledVocabularyOption]),"chip-active":e.activeControlledVocabularyEntry&&i[e.identifierPropertyName.controlledVocabularyOption]===e.activeControlledVocabularyEntry[e.identifierPropertyName.controlledVocabularyOption]},on:{clicked:function(t){return e.addOption(i)}}})],1)})),0):e.isLoading?t("div",{staticClass:"base-advanced-search-row__no-options base-advanced-search-row__area-padding"},[e._v("\n                "+e._s(e.getI18nTerm(e.getLangLabel(e.dropDownInfoTexts.chipsOngoing,!0)))+"\n              ")]):e.displayedOptions.length>e.maxNumberControlledOptions&&(!e.currentInput||e.currentInput.length<4)?t("div",{staticClass:"base-advanced-search-row__no-options base-advanced-search-row__area-padding"},[e._v("\n                "+e._s(e.getI18nTerm(e.getLangLabel(e.dropDownInfoTexts.chipsMaxOptions,!0)))+"\n              ")]):e.currentInput&&e.currentInput.length&&!e.displayedOptions.length?t("div",{staticClass:"base-advanced-search-row__no-options base-advanced-search-row__area-padding"},[e._v("\n                "+e._s(e.getI18nTerm(e.getLangLabel(e.dropDownInfoTexts.chipsNoMatch,!0)))+"\n              ")]):e.displayedOptions.length?e._e():t("div",{staticClass:"base-advanced-search-row__no-options base-advanced-search-row__area-padding"},[e._v("\n                "+e._s(e.getI18nTerm(e.getLangLabel(e.dropDownInfoTexts.chipsNoOptions,!0)))+"\n              ")])])])]},proxy:!0},{key:"no-options",fn:function(){return[e.useAutocompleteFunctionality?t("div",{class:["base-advanced-search-row__no-options",{"base-advanced-search-row__no-options-hidden":!e.useAutocompleteFunctionality}]},[!e.currentInput||"string"==typeof e.currentInput&&!e.currentInput.trim()?t("div",[e._v("\n              "+e._s(e.getI18nTerm(e.getLangLabel(e.dropDownInfoTexts.autocompleteInitial,!0)))+"\n            ")]):e.isLoading?t("div",[e._v("\n              "+e._s(e.getI18nTerm(e.getLangLabel(e.dropDownInfoTexts.autocompleteOngoing,!0)))+"\n            ")]):t("div",[e._v("\n              "+e._s(e.getI18nTerm(e.getLangLabel(e.dropDownInfoTexts.autocompleteNoOptions,!0)))+"\n            ")])]):e._e()]},proxy:!0}],null,!0)}):e._e(),e._v(" "),e._t("below")]},proxy:!0}],null,!0),model:{value:e.currentInput,callback:function(t){e.currentInput=t},expression:"currentInput"}},e.$listeners)),e._v(" "),"list"===e.mode&&e.isMainSearch?t("BaseButton",{class:["base-advanced-search-row__add-filter-button",{"base-advanced-search-row__add-filter-button__shadow":e.applyBoxShadow}],attrs:{icon:"plus","button-style":"row","icon-position":"right"},on:{clicked:e.addFilterRow},nativeOn:{click:function(e){e.stopPropagation()}},scopedSlots:e._u([{key:"text",fn:function(i){var n=i.labelId;return[t("span",{staticClass:"base-advanced-search-row__add-filter-button__text",attrs:{id:n}},[e._v("\n        "+e._s(e.assistiveText.addFilter||"Add filter")+"\n      ")])]}}],null,!1,1716085043)}):e._e()],1)}),[],!1,null,"5b7243d6",null);t.default=O.exports},693:function(e,t,i){"use strict";i(577)},694:function(e,t,i){"use strict";i(58)("replace")},695:function(e,t,i){"use strict";i(696)},696:function(e,t,i){"use strict";var n,r=i(147),o=i(4),a=i(3),s=i(458),l=i(236),c=i(460),u=i(697),d=i(11),p=i(35).enforce,f=i(2),h=i(239),m=Object,v=Array.isArray,y=m.isExtensible,b=m.isFrozen,g=m.isSealed,O=m.freeze,_=m.seal,I=!o.ActiveXObject&&"ActiveXObject"in o,x=function(e){return function(){return e(this,arguments.length?arguments[0]:void 0)}},w=c("WeakMap",x,u),N=w.prototype,F=a(N.set);if(h)if(I){n=u.getConstructor(x,"WeakMap",!0),l.enable();var A=a(N.delete),S=a(N.has),j=a(N.get);s(N,{delete:function(e){if(d(e)&&!y(e)){var t=p(this);return t.frozen||(t.frozen=new n),A(this,e)||t.frozen.delete(e)}return A(this,e)},has:function(e){if(d(e)&&!y(e)){var t=p(this);return t.frozen||(t.frozen=new n),S(this,e)||t.frozen.has(e)}return S(this,e)},get:function(e){if(d(e)&&!y(e)){var t=p(this);return t.frozen||(t.frozen=new n),S(this,e)?j(this,e):t.frozen.get(e)}return j(this,e)},set:function(e,t){if(d(e)&&!y(e)){var i=p(this);i.frozen||(i.frozen=new n),S(this,e)?F(this,e,t):i.frozen.set(e,t)}else F(this,e,t);return this}})}else r&&f((function(){var e=O([]);return F(new w,e,1),!b(e)}))&&s(N,{set:function(e,t){var i;return v(e)&&(b(e)?i=O:g(e)&&(i=_)),F(this,e,t),i&&i(e),this}})},697:function(e,t,i){"use strict";var n=i(3),r=i(458),o=i(236).getWeakData,a=i(238),s=i(12),l=i(50),c=i(11),u=i(141),d=i(75),p=i(9),f=i(35),h=f.set,m=f.getterFor,v=d.find,y=d.findIndex,b=n([].splice),g=0,O=function(e){return e.frozen||(e.frozen=new _)},_=function(){this.entries=[]},I=function(e,t){return v(e.entries,(function(e){return e[0]===t}))};_.prototype={get:function(e){var t=I(this,e);if(t)return t[1]},has:function(e){return!!I(this,e)},set:function(e,t){var i=I(this,e);i?i[1]=t:this.entries.push([e,t])},delete:function(e){var t=y(this.entries,(function(t){return t[0]===e}));return~t&&b(this.entries,t,1),!!~t}},e.exports={getConstructor:function(e,t,i,n){var d=e((function(e,r){a(e,f),h(e,{type:t,id:g++,frozen:void 0}),l(r)||u(r,e[n],{that:e,AS_ENTRIES:i})})),f=d.prototype,v=m(t),y=function(e,t,i){var n=v(e),r=o(s(t),!0);return!0===r?O(n).set(t,i):r[n.id]=i,e};return r(f,{delete:function(e){var t=v(this);if(!c(e))return!1;var i=o(e);return!0===i?O(t).delete(e):i&&p(i,t.id)&&delete i[t.id]},has:function(e){var t=v(this);if(!c(e))return!1;var i=o(e);return!0===i?O(t).has(e):i&&p(i,t.id)}}),r(f,i?{get:function(e){var t=v(this);if(c(e)){var i=o(e);return!0===i?O(t).get(e):i?i[t.id]:void 0}},set:function(e,t){return y(this,e,t)}}:{add:function(e){return y(this,e,!0)}}),d}}}}]);