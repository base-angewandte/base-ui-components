(window.webpackJsonp=window.webpackJsonp||[]).push([[68,106],{1321:function(e,t,n){"use strict";n.r(t);n(36),n(485),n(7),n(213),n(216),n(214),n(20);var s=n(56),i=(n(18),n(132),n(131),n(97),n(48),n(466),n(99),{name:"BaseEntrySelector",components:{BaseDropDown:function(){return Promise.all([n.e(0),n.e(72)]).then(n.bind(null,632)).then((function(e){return e.default||e}))},BaseLoader:function(){return Promise.all([n.e(0),n.e(5)]).then(n.bind(null,457)).then((function(e){return e.default||e}))},BaseMenuList:function(){return Promise.all([n.e(0),n.e(2),n.e(8),n.e(22)]).then(n.bind(null,1330)).then((function(e){return e.default||e}))},BaseOptions:function(){return Promise.all([n.e(0),n.e(42)]).then(n.bind(null,635)).then((function(e){return e.default||e}))},BasePagination:function(){return Promise.all([n.e(0),n.e(20)]).then(n.bind(null,1213)).then((function(e){return e.default||e}))},BaseSearch:function(){return Promise.all([n.e(0),n.e(17)]).then(n.bind(null,520)).then((function(e){return e.default||e}))},BaseSelectOptions:function(){return Promise.all([n.e(0),n.e(14)]).then(n.bind(null,1214)).then((function(e){return e.default||e}))}},mixins:[n(402).a],props:{entries:{type:Array,default:function(){return[]}},entriesTotal:{type:Number,default:null},entriesPerPage:{type:Number,default:10},entriesSelectable:{type:Boolean,default:!1},maxSelectedEntries:{type:Number,default:0},height:{type:String,default:""},isLoading:{type:Boolean,default:!1},activeEntry:{type:Number,default:-1},language:{type:String,default:"en"},optionsHidden:{type:Boolean,default:!1},entryTypes:{type:Array,default:function(){return[]}},entryTypesConfig:{type:Object,default:function(){return{label:"filter by type",default:null,valuePropertyName:"value"}},validator:function(e){return!e||["label","default","valuePropertyName"].every((function(t){return Object.keys(e).includes(t)}))}},sortOptions:{type:Array,default:function(){return[]}},sortConfig:{type:Object,default:function(){return{label:"sort entries",default:null,valuePropertyName:"value"}},validator:function(e){return!e||Object.keys(e).every((function(e){return["label","default","valuePropertyName"].includes(e)}))}},entrySelectorText:{type:Object,default:function(){return{noEntriesTitle:"No matching entries found",noEntriesSubtext:"Please adjust your search criteria.",options:{show:"options",hide:"options"},search:"Search",selectAll:"Select All",selectNone:"Select None",entriesSelected:"entries selected",maxEntriesReached:"Maximum Number Exceeded!"}},validator:function(e){return["noEntriesTitle","noEntriesSubtext","options","search","selectAll","selectNone","entriesSelected","maxEntriesReached"].every((function(t){return Object.keys(e).includes(t)}))&&["show","hide"].every((function(t){return Object.keys(e.options).includes(t)}))}}},data:function(){return{filterString:"",filterType:{},sortParam:{},headHasShadow:!1,pageNumber:1,showOptions:!1,selectedEntries:[],timeout:null}},computed:{calcStyle:function(){return this.height?{height:this.height}:{}},pageTotal:function(){return this.entriesPerPage?Math.ceil(this.entriesTotal/this.entriesPerPage):0},selectedListIds:function(){return this.selectedEntries.map((function(e){return e.id}))},dropDownElementsCount:function(){return this.sortOptions&&this.sortOptions.length&&this.entryTypes&&this.entryTypes.length?2:1},selectableEntries:function(){return this.entries.filter((function(e){return!e.disabled}))}},watch:{entriesSelectable:{handler:function(e){e!==this.showOptions&&(this.showOptions=e)},immediate:!0},showOptions:function(e){e||(this.selectedEntries=[]),e!==this.entriesSelectable&&this.$emit("update:entries-selectable",this.showOptions)},selectedEntries:function(){this.$emit("selected-changed",this.selectedEntries)}},created:function(){this.sortParam=this.sortConfig.default||(this.sortOptions.length?this.sortOptions[0]:{}),this.filterType=this.entryTypesConfig.default||(this.entryTypes.length?this.entryTypes[0]:{})},mounted:function(){this.fetchEntries(),this.$refs.body.addEventListener("scroll",this.scroll)},beforeDestroy:function(){this.$refs.body.removeEventListener("scroll",this.scroll)},methods:{changeAllSelectState:function(e){if(e)this.selectedEntries=this.selectedEntries.concat(this.selectableEntries),this.selectedEntries=Object(s.a)(new Set(this.selectedEntries));else{var t=this.entries.map((function(e){return e.id}));this.selectedEntries=this.selectedEntries.filter((function(e){return!t.includes(e.id)}))}},fetchEntries:function(){var e=this;this.timeout&&(clearTimeout(this.timeout),this.timeout=null),this.timeout=setTimeout((function(){e.$emit("fetch-entries",{page:e.pageNumber,query:e.filterString,sort:e.sortParam,type:e.filterType})}),600)},filterEntries:function(e,t){var n=this;"type"===t?this.fetchEntries():"title"===t&&(this.timeout&&(clearTimeout(this.timeout),this.timeout=null),this.timeout=setTimeout((function(){(0===e.length||e.length>2)&&n.fetchEntries()}),600)),this.pageNumber=1},scroll:function(){this.$refs.body.scrollTop?this.headHasShadow=!0:this.headHasShadow=!1},selectEntry:function(e){var t=this;e.selected?this.selectedEntries.push(this.entries[e.index]):this.selectedEntries=this.selectedEntries.filter((function(n){return n.id!==t.entries[e.index].id}))},setPage:function(e){this.pageNumber=e,this.fetchEntries()},entryClicked:function(e){this.$emit("entry-clicked",this.entries[e].id)}}}),r=(n(690),n(35)),o=Object(r.a)(i,(function(){var e=this,t=e._self._c;return t("div",{staticClass:"base-entry-selector",style:e.calcStyle},[t("div",{ref:"head",class:["base-entry-selector__head",{"base-entry-selector__head--shadow":e.headHasShadow}]},[e._t("head",(function(){return[t("BaseSearch",{staticClass:"base-entry-selector__head__search-bar",attrs:{"show-image":!0,placeholder:e.getI18nTerm(e.entrySelectorText.search)},on:{input:function(t){return e.filterEntries(t,"title")}},model:{value:e.filterString,callback:function(t){e.filterString=t},expression:"filterString"}})]})),e._v(" "),t("div",{staticClass:"base-entry-selector__options"},[t("BaseOptions",{ref:"baseOptions",attrs:{"show-options":e.showOptions,"options-hidden":e.optionsHidden,"use-options-button-on":"always","show-after-options-below":!0,"options-button-icon":{show:"options-menu",hide:"options-menu"},"options-button-text":e.entrySelectorText.options,"align-options":"left"},on:{"update:showOptions":function(t){e.showOptions=t},"update:show-options":function(t){e.showOptions=t}},scopedSlots:e._u([{key:"afterOptions",fn:function(){return[t("div",{staticClass:"base-entry-selector__dropdowns"},[e._t("after-options",(function(){return[e.sortOptions.length?t("BaseDropDown",{ref:"baseDropDown",staticClass:"base-entry-selector__dropdowns__dropdown",style:{maxWidth:"".concat(100/e.dropDownElementsCount,"%")},attrs:{id:"".concat(e.sortConfig.label,"-sort-drop-down"),label:e.sortConfig.label,options:e.sortOptions,"with-spacing":!1,"align-drop-down":e.entryTypes.length?"left":"right","value-prop":e.sortConfig.valuePropertyName},on:{"value-selected":e.fetchEntries},model:{value:e.sortParam,callback:function(t){e.sortParam=t},expression:"sortParam"}}):e._e(),e._v(" "),e.entryTypes.length?t("BaseDropDown",{ref:"baseDropDown",staticClass:"base-entry-selector__dropdowns__dropdown",style:{maxWidth:"".concat(100/e.dropDownElementsCount,"%")},attrs:{id:"".concat(e.entryTypesConfig.label,"-types-drop-down"),label:e.entryTypesConfig.label,options:e.entryTypes,language:e.language,"with-spacing":!1,"value-prop":e.entryTypesConfig.valuePropertyName,"align-drop-down":"right"},on:{"value-selected":function(t){return e.filterEntries(t,"type")}},model:{value:e.filterType,callback:function(t){e.filterType=t},expression:"filterType"}}):e._e()]}))],2)]},proxy:!0},{key:"options",fn:function(){return[e._t("option-actions")]},proxy:!0}],null,!0)})],1),e._v(" "),e.showOptions?t("BaseSelectOptions",{ref:"selectOptions",attrs:{"select-text":e.getI18nTerm(e.entrySelectorText.selectAll),"selected-number-text":e.getI18nTerm(e.entrySelectorText.entriesSelected),"deselect-text":e.getI18nTerm(e.entrySelectorText.selectNone),list:e.selectableEntries,"selected-list":e.selectedEntries,"select-all-disabled":!!e.maxSelectedEntries&&(e.maxSelectedEntries<=e.selectedListIds.length||!e.selectableEntries.some((function(t){return!e.selectedListIds.includes(t.id)})))},on:{selected:e.changeAllSelectState},scopedSlots:e._u([{key:"selectedText",fn:function(){return[e._v("\n        "+e._s("".concat(e.selectedListIds.length).concat(e.maxSelectedEntries?"/".concat(e.maxSelectedEntries):"","\n        ").concat(e.getI18nTerm(e.entrySelectorText.entriesSelected)))+"\n        "),e.maxSelectedEntries&&e.selectedListIds.length>=e.maxSelectedEntries?t("span",[e._v("\n          "+e._s("(".concat(e.getI18nTerm(e.entrySelectorText.maxEntriesReached),")"))+"\n        ")]):e._e()]},proxy:!0}],null,!1,303893673)}):e._e()],2),e._v(" "),t("div",{ref:"body",staticClass:"base-entry-selector__body"},[e.isLoading?t("div",{staticClass:"loading-area"},[t("BaseLoader",{class:{"base-entry-selector__loader__center":e.entries.length<4}})],1):e._e(),e._v(" "),e._t("entries",(function(){return[e.entries.length?t("BaseMenuList",{key:"menu-list",ref:"menuList",staticClass:"base-entry-selector__body__entries",attrs:{"select-active":e.showOptions,list:e.entries,"active-entry":e.activeEntry,"selected-list":e.selectedListIds},on:{clicked:e.entryClicked,selected:e.selectEntry},scopedSlots:e._u([{key:"thumbnails",fn:function(t){var n=t.item;return[e._t("thumbnails",null,{item:n})]}}],null,!0)}):e.isLoading?e._e():t("div",{staticClass:"base-entry-selector__no-entries"},[t("p",{staticClass:"base-entry-selector__no-entries__title"},[e._v("\n          "+e._s(e.getI18nTerm(e.entrySelectorText.noEntriesTitle))+"\n        ")]),e._v(" "),t("p",{staticClass:"base-entry-selector__no-entries__subtext"},[e._v("\n          "+e._s(e.getI18nTerm(e.entrySelectorText.noEntriesSubtext))+"\n        ")])])]}),{entries:e.entries,selectEntry:e.selectEntry})],2),e._v(" "),e.pageTotal>1?t("BasePagination",{ref:"pagination",attrs:{total:e.pageTotal,current:e.pageNumber},on:{"set-page":e.setPage}}):e._e()],1)}),[],!1,null,"18fe6e11",null);t.default=o.exports},399:function(e,t,n){"use strict";var s=n(1),i=n(75).find,r=n(134),o=!0;"find"in[]&&Array(1).find((function(){o=!1})),s({target:"Array",proto:!0,forced:o},{find:function(e){return i(this,e,arguments.length>1?arguments[1]:void 0)}}),r("find")},402:function(e,t,n){"use strict";n(217),n(7),n(399),n(131);t.a={computed:{hasI18n:function(){return Boolean(this.$i18n)}},methods:{getI18nTerm:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:-1,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(this.hasI18n&&this.$te(e))return t>=0?this.$tc(e,t,n):this.$t(e,n);var s=e.split(".");return s.pop()||e},setLangLabels:function(e,t){var n=this;return t.reduce((function(t,s){return n.$set(t,s,n.$i18n?n.$t(e,s):e.split(".").pop()),t}),{})},getLangLabel:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=this.hasI18n?this.language||this.$i18n.locale:this.language;if("string"==typeof e)return e;if(e&&n&&e[n])return e[n];if(e&&n&&t){var s=Object.keys(e).find((function(t){return!!e[t]}));return e[s]||e[n]||""}return e}}}},466:function(e,t,n){n(475)},475:function(e,t,n){"use strict";n(476)("Set",(function(e){return function(){return e(this,arguments.length?arguments[0]:void 0)}}),n(477))},476:function(e,t,n){"use strict";var s=n(1),i=n(5),r=n(3),o=n(106),l=n(19),a=n(233),u=n(141),c=n(232),d=n(4),f=n(49),h=n(10),p=n(2),y=n(145),v=n(31),g=n(139);e.exports=function(e,t,n){var m=-1!==e.indexOf("Map"),b=-1!==e.indexOf("Weak"),_=m?"set":"add",x=i[e],E=x&&x.prototype,S=x,w={},T=function(e){var t=r(E[e]);l(E,e,"add"==e?function(e){return t(this,0===e?0:e),this}:"delete"==e?function(e){return!(b&&!h(e))&&t(this,0===e?0:e)}:"get"==e?function(e){return b&&!h(e)?void 0:t(this,0===e?0:e)}:"has"==e?function(e){return!(b&&!h(e))&&t(this,0===e?0:e)}:function(e,n){return t(this,0===e?0:e,n),this})};if(o(e,!d(x)||!(b||E.forEach&&!p((function(){(new x).entries().next()})))))S=n.getConstructor(t,e,m,_),a.enable();else if(o(e,!0)){var O=new S,P=O[_](b?{}:-0,1)!=O,C=p((function(){O.has(1)})),k=y((function(e){new x(e)})),I=!b&&p((function(){for(var e=new x,t=5;t--;)e[_](t,t);return!e.has(-0)}));k||((S=t((function(e,t){c(e,E);var n=g(new x,e,S);return f(t)||u(t,n[_],{that:n,AS_ENTRIES:m}),n}))).prototype=E,E.constructor=S),(C||I)&&(T("delete"),T("has"),m&&T("get")),(I||P)&&T(_),b&&E.clear&&delete E.clear}return w[e]=S,s({global:!0,constructor:!0,forced:S!=x},w),v(S,e),b||n.setStrong(S,e,m),S}},477:function(e,t,n){"use strict";var s=n(40),i=n(53),r=n(478),o=n(57),l=n(232),a=n(49),u=n(141),c=n(143),d=n(144),f=n(228),h=n(11),p=n(233).fastKey,y=n(38),v=y.set,g=y.getterFor;e.exports={getConstructor:function(e,t,n,c){var d=e((function(e,i){l(e,f),v(e,{type:t,index:s(null),first:void 0,last:void 0,size:0}),h||(e.size=0),a(i)||u(i,e[c],{that:e,AS_ENTRIES:n})})),f=d.prototype,y=g(t),m=function(e,t,n){var s,i,r=y(e),o=b(e,t);return o?o.value=n:(r.last=o={index:i=p(t,!0),key:t,value:n,previous:s=r.last,next:void 0,removed:!1},r.first||(r.first=o),s&&(s.next=o),h?r.size++:e.size++,"F"!==i&&(r.index[i]=o)),e},b=function(e,t){var n,s=y(e),i=p(t);if("F"!==i)return s.index[i];for(n=s.first;n;n=n.next)if(n.key==t)return n};return r(f,{clear:function(){for(var e=y(this),t=e.index,n=e.first;n;)n.removed=!0,n.previous&&(n.previous=n.previous.next=void 0),delete t[n.index],n=n.next;e.first=e.last=void 0,h?e.size=0:this.size=0},delete:function(e){var t=y(this),n=b(this,e);if(n){var s=n.next,i=n.previous;delete t.index[n.index],n.removed=!0,i&&(i.next=s),s&&(s.previous=i),t.first==n&&(t.first=s),t.last==n&&(t.last=i),h?t.size--:this.size--}return!!n},forEach:function(e){for(var t,n=y(this),s=o(e,arguments.length>1?arguments[1]:void 0);t=t?t.next:n.first;)for(s(t.value,t.key,this);t&&t.removed;)t=t.previous},has:function(e){return!!b(this,e)}}),r(f,n?{get:function(e){var t=b(this,e);return t&&t.value},set:function(e,t){return m(this,0===e?0:e,t)}}:{add:function(e){return m(this,e=0===e?0:e,e)}}),h&&i(f,"size",{configurable:!0,get:function(){return y(this).size}}),d},setStrong:function(e,t,n){var s=t+" Iterator",i=g(t),r=g(s);c(e,t,(function(e,t){v(this,{type:s,target:e,state:i(e),kind:t,last:void 0})}),(function(){for(var e=r(this),t=e.kind,n=e.last;n&&n.removed;)n=n.previous;return e.target&&(e.last=n=n?n.next:e.state.first)?d("keys"==t?n.key:"values"==t?n.value:[n.key,n.value],!1):(e.target=void 0,d(void 0,!0))}),n?"entries":"values",!n,!0),f(t)}}},478:function(e,t,n){var s=n(19);e.exports=function(e,t,n){for(var i in t)s(e,i,t[i],n);return e}},485:function(e,t,n){"use strict";var s=n(8),i=n(222),r=n(12),o=n(49),l=n(30),a=n(486),u=n(15),c=n(77),d=n(223);i("search",(function(e,t,n){return[function(t){var n=l(this),i=o(t)?void 0:c(t,e);return i?s(i,t,n):new RegExp(t)[e](u(n))},function(e){var s=r(this),i=u(e),o=n(t,s,i);if(o.done)return o.value;var l=s.lastIndex;a(l,0)||(s.lastIndex=0);var c=d(s,i);return a(s.lastIndex,l)||(s.lastIndex=l),null===c?-1:c.index}]}))},486:function(e,t){e.exports=Object.is||function(e,t){return e===t?0!==e||1/e==1/t:e!=e&&t!=t}},586:function(e,t,n){},690:function(e,t,n){"use strict";n(586)}}]);