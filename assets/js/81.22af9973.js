(window.webpackJsonp=window.webpackJsonp||[]).push([[81],{1210:function(t,e,r){"use strict";r.r(e);var n=r(41),a=r(408),i=r(80),o=(r(213),r(135),r(7),r(98),r(97),r(138),r(18),r(465),r(21),r(136),r(215),r(214),r(48),{name:"BaseMap",props:{attribution:{type:String,default:'Source: <a href="https://openstreetmap.org/">OpenStreetMap contributors</a>'},attributionPosition:{type:String,default:"bottomright",validate:function(t){return["topright","bottomleft","bottomright"].includes(t)}},centerMarker:{type:Number,default:null},clusterSizes:{type:Object,default:function(){return{medium:5,large:20,xlarge:100}},validator:function(t){return t.medium&&t.large&&t.xlarge}},copyright:{type:String,default:"<a href=http://creativecommons.org/licenses/by-sa/3.0/>CC BY-SA 3.0</a>"},highlightMarker:{type:Number,default:null},icon:{type:String,default:'<svg viewBox="0 0 70.866 70.866" xmlns="http://www.w3.org/2000/svg"><path d="m35.433 0a22.731 22.731 0 0 0-22.731 22.82 24.125 24.125 0 0 0 1.872 9.1814l19.611 38.063a1.3718 1.3718 0 0 0 2.496 0l19.611-38.063a22.249 22.249 0 0 0 1.872-9.1814 22.731 22.731 0 0 0-22.731-22.82zm0 32.858a10.216 10.216 0 1 1 10.216-10.216 10.241 10.241 0 0 1-10.216 10.216z" fill="#010101"/></svg>'},iconSize:{type:Number,default:32},options:{type:Object,default:function(){return{}}},marker:{type:Array,default:function(){return[]},validator:function(t){return t.every((function(t){return t.latLng||t.coordinates}))}},markerPopups:{type:Boolean,default:!0},maxZoom:{type:Number,default:18},url:{type:String,default:""},tileLayerService:{type:String,default:"WMTS",validator:function(t){return["WMTS","TMS","WMS"].includes(t)}},zoom:{type:Number,default:16}},data:function(){return{L:null,map:null,activePopUp:null,boundsPadding:[0,20],highlightedMarker:null,markerClass:"base-map-marker-icon",markerClusterClass:"base-map-marker-cluster",popupOptions:{offset:[10,-25],closeButton:!1,keepInView:!0},scrollWheelZoom:!1}},computed:{observer:function(){var t=this;return new IntersectionObserver((function(e,r){e.forEach((function(e){e.isIntersecting&&(r.unobserve(e.target),t.init())}))}))},cssProps:function(){return{"--leaflet-popup-offset-bottom":"".concat(this.popupOptions.offset[1],"px")}},markerFiltered:function(){return Array.from(new Set(this.marker.map(JSON.stringify))).map(JSON.parse)}},watch:{centerMarker:function(t){null!==t&&this.map.setView(this.getLatLng(this.markerFiltered[t]),this.zoom)},highlightMarker:function(t,e){var r=this;if(null!==t)return this.map.closePopup(),this.resetAllMarker(),void this.map.eachLayer((function(e){if(e._bounds&&e._icon){var n=r.getLatLng(r.markerFiltered[t]);if(r.L.latLngBounds(e._bounds).contains(n))return void e._icon.classList.add("".concat(r.markerClusterClass,"--active"))}null!=e.options.id&&e.options.id===t&&(r.highlightedMarker=e._icon,r.highlightedMarker.classList.add("".concat(r.markerClass,"--active")))}));null!=this.highlightedMarker&&this.activePopUp!==e&&(this.highlightedMarker.classList.remove("".concat(this.markerClass,"--active")),this.highlightedMarker=null);var n=this.$el.querySelector(".".concat(this.markerClusterClass,"--active"));n&&n.classList.remove("".concat(this.markerClusterClass,"--active"))}},beforeDestroy:function(){this.observer.disconnect()},mounted:function(){this.observer.observe(this.$el)},methods:{init:function(){var t=this;return Object(i.a)(Object(n.a)().mark((function e(){var i,o,s,c,u,l,p,m;return Object(n.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.L){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,r.e(168).then(r.t.bind(null,1307,7));case 4:return t.L=e.sent,e.next=7,r.e(166).then(r.t.bind(null,1308,7));case 7:return i=e.sent,o=i.ResponsivePopup,e.next=11,r.e(167).then(r.t.bind(null,1309,7));case 11:if(s=e.sent,c=s.MarkerClusterGroup,t.map=t.L.map(t.$refs.mapElement,{scrollWheelZoom:t.scrollWheelZoom,tap:!1}),t.map.attributionControl.setPosition(t.attributionPosition),u=Object(a.a)({maxZoom:t.maxZoom,attribution:[t.attribution,t.copyright].join(", "),tms:"TMS"===t.tileLayerService},t.options),"WMS"===t.tileLayerService?t.L.tileLayer.wms(t.url,u).addTo(t.map):t.L.tileLayer(t.url,u).addTo(t.map),t.markerFiltered.length){e.next=19;break}return e.abrupt("return");case 19:if(l={className:t.markerClass,html:t.icon,iconSize:[t.iconSize,t.iconSize],iconAnchor:[t.iconSize/2,t.iconSize]},p=t.L.divIcon(l),t.markerCluster=new c({maxClusterRadius:50,showCoverageOnHover:!1,iconCreateFunction:function(e){var r=e.getAllChildMarkers().length,n="small",a=48;return r>t.clusterSizes.medium&&(n="medium",a=64),r>t.clusterSizes.large&&(n="large",a=80),r>t.clusterSizes.xlarge&&(n="xlarge",a=128),t.L.divIcon({html:'<div class="'.concat(t.markerClusterClass,'__inner">').concat(r,"</div>"),className:"".concat(t.markerClusterClass," ").concat(t.markerClusterClass,"--").concat(n),iconSize:t.L.point(a,a)})}}),t.markerFiltered.forEach((function(e,r){var n=new o(t.popupOptions),a={id:r,icon:p};if(t.getLatLng(e)){var i=t.L.marker(t.L.latLng(t.getLatLng(e)),a).on("mouseover",t.activateMarker).on("mouseout",t.resetMarker);t.markerPopups&&Array.isArray(e.data)&&(n.setContent(e.data.join("<br>")),i.bindPopup(n)),t.markerCluster.addLayer(i)}})),t.map.addLayer(t.markerCluster),t.markerFiltered.filter((function(t){return t.latLng||t.coordinates})).length){e.next=27;break}return e.abrupt("return");case 27:m=new t.L.LatLngBounds(t.markerFiltered.map((function(e){return t.getLatLng(e)}))),t.map.fitBounds(m,{padding:t.boundsPadding,maxZoom:t.zoom});case 29:case"end":return e.stop()}}),e)})))()},activateMarker:function(t){var e=t.target.options.id,r=t.target._icon;this.resetAllMarker(),t.target.options.active||(this.activePopUp=e,this.markerState(e),r.classList.add("".concat(this.markerClass,"--active")),t.target.options.active=!0)},resetMarker:function(t){t.target._icon.classList.remove("".concat(this.markerClass,"--active")),this.activePopUp=null,this.markerState(null),delete t.target.options.active},resetAllMarker:function(){var t=this;this.map.eachLayer((function(e){var r=e._icon;r&&(r.classList.remove("".concat(t.markerClass,"--active")),r.classList.remove("".concat(t.markerClusterClass,"--active")),t.activePopUp=null,t.markerState(null),delete e.options.active)}))},markerState:function(t){this.$emit("highlighted",t)},getLatLng:function(t){return t.coordinates?[t.coordinates[1],t.coordinates[0]]:t.latLng?t.latLng:null}}}),s=(r(533),r(534),r(35)),c=Object(s.a)(o,(function(){return(0,this._self._c)("div",{ref:"mapElement",staticClass:"base-map",style:this.cssProps})}),[],!1,null,"746bc2ee",null);e.default=c.exports},398:function(t,e,r){"use strict";r.d(e,"a",(function(){return a}));var n=r(137);function a(t,e,r){return(e=Object(n.a)(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}},408:function(t,e,r){"use strict";r.d(e,"a",(function(){return i}));r(131),r(37),r(48),r(7),r(410),r(99),r(98),r(227);var n=r(398);function a(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function i(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?a(Object(r),!0).forEach((function(e){Object(n.a)(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):a(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}},410:function(t,e,r){var n=r(1),a=r(2),i=r(23),o=r(33).f,s=r(11);n({target:"Object",stat:!0,forced:!s||a((function(){o(1)})),sham:!s},{getOwnPropertyDescriptor:function(t,e){return o(i(t),e)}})},498:function(t,e,r){},499:function(t,e,r){},533:function(t,e,r){"use strict";r(498)},534:function(t,e,r){"use strict";r(499)}}]);