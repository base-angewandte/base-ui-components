(window.webpackJsonp=window.webpackJsonp||[]).push([[9,7],{1207:function(e,t,n){"use strict";n.r(t);n(214),n(74);var i=n(20),r=n(398),a=n(101),o=n(408),l=(n(131),n(7),n(430),n(213),n(216),n(48),n(400),n(97),n(399),n(136),n(99),n(396),n(593),n(217),n(394),n(98),n(391)),s=n(402),u=n(1208),f=["errorMessage","invalid","isActive","isLoading","linkedListOption","activeTab","validationTexts"],c={name:"BaseForm",components:{BaseFormFieldCreator:u.default,BaseIcon:l.default},mixins:[s.a],props:{formFieldJson:{type:Object,required:!0},valueList:{type:Object,default:function(){return{}}},language:{type:String,default:"en"},availableLocales:{type:Array,default:function(){return[]}},formId:{type:String,default:""},formStyle:{type:Object,default:function(){return{}}},fieldsWithTabs:{type:Array,default:function(){return[]}},fieldIsLoading:{type:String,default:""},dropDownLists:{type:Object,default:function(){return{}}},showErrorIcon:{type:Boolean,default:!1},clearable:{type:Boolean,default:!1},fieldProps:{type:Object,default:function(){return{}},validator:function(e){return 0===Object.keys(e).length||Object.values(e).every((function(e){return Object.keys(e)}))}},renderHeaderAs:{type:String,default:"div"},validationTexts:{type:Object,default:function(){return{text:{min:"Value must be greater than or equal to {value}.",max:"Value must be less than or equal to {value}.",minLength:"Text must be at least {value} character(s) long.",maxLength:"Text cannot be longer than {value} characters."}}},validator:function(e){return["text"].every((function(t){return Object.keys(e).includes(t)}))&&["min","max","minLength","maxLength"].every((function(t){return Object.keys(e.text).includes(t)}))}}},data:function(){return{multiplyParams:null,fetchingAutocompleteFor:"",currentInputString:"",valueListInt:{}}},computed:{formFieldsHalf:function(){return this.formFieldListInt.filter((function(e){return e["x-attrs"]&&"half"===e["x-attrs"].field_format}))},formFieldListInt:function(){var e=this;return Object.keys(this.formFieldJson).filter((function(t){return!(e.formFieldJson[t].$ref||e.formFieldJson[t]["x-attrs"]&&e.formFieldJson[t]["x-attrs"].hidden)})).map((function(t){return Object(o.a)(Object(o.a)({},{name:t}),e.formFieldJson[t])})).sort((function(e,t){return e["x-attrs"]&&t["x-attrs"]&&e["x-attrs"].order>t["x-attrs"].order?1:-1}))},formHeader:function(){var e=this.formFieldListInt.find((function(e){return e["x-attrs"]&&e["x-attrs"].form_group_title}));return e?e["x-attrs"].form_group_title:""}},watch:{valueList:{handler:function(e){var t=this;Object.keys(this.valueListInt).some((function(n){return JSON.stringify(t.valueListInt[n])!==JSON.stringify(e[n])}))&&this.initializeValueObject()},deep:!0},formFieldJson:{handler:function(){this.valueListInt={},this.initializeValueObject()},immediate:!0}},updated:function(){if(this.multiplyParams&&this.multiplyParams.name){var e=this.$refs[this.multiplyParams.name];e.length&&setTimeout((function(t){var n=e[t.index].getElementsByTagName("textarea").length?e[t.index].getElementsByTagName("textarea"):e[t.index].getElementsByTagName("input");n.length&&n[0].focus()}),50,this.multiplyParams),this.multiplyParams=null}},methods:{fetchAutocomplete:function(e){this.currentInputString=e.value,this.fetchingAutocompleteFor=e.name,this.$emit("fetch-autocomplete",e)},allowMultiply:function(e){return"array"===e.type&&(!e["x-attrs"]||!e["x-attrs"].field_type||e["x-attrs"]&&!["chips","chips-below"].includes(e["x-attrs"].field_type))},multiplyButtonsInline:function(e){return!["group","multiline"].includes(e["x-attrs"].field_type)},multiplyField:function(e,t){var n=this.getInitialFieldValue(e.items);t||0===t?this.valueListInt[e.name].splice(t+1,0,n):this.valueListInt[e.name].push(n),this.multiplyParams={index:t||0===t?t+1:this.valueListInt[e.name].length-1,name:e.name},this.propagateValueListChanges()},removeField:function(e,t){var n=this.valueListInt[e.name];n&&n.length>1?n.splice(t,1):this.$set(n,t,this.getInitialFieldValue(e.items)),this.propagateValueListChanges()},propagateValueListChanges:function(){this.$emit("values-changed",this.valueListInt)},isHalfFieldSecond:function(e){var t=this.formFieldsHalf.indexOf(e);return t>0&&!!(t%2)},getFieldName:function(e){return e.title||this.getI18nTerm("form.".concat(e.name)||!1)},formFieldComponentProps:function(e,t,n){var i=e.name,l=this.fieldProps[i]?JSON.parse(JSON.stringify(this.fieldProps[i])):{},s=n>=0;if(s){var u=Object.entries(l).filter((function(e){var t=Object(a.a)(e,1)[0];return f.includes(t)}));if(u.length){var c=u.reduce((function(e,t){var i=Object(a.a)(t,2),s=i[0],u=i[1];return Object.keys(u).includes(n.toString())?Object(o.a)(Object(o.a)({},e),{},Object(r.a)({},s,u[n.toString()])):(delete l[s],e)}),{});l=Object(o.a)(Object(o.a)({},l),c)}}var d=s?"".concat(t,"_").concat(n):t;return{field:e,label:l&&l.label?l.label:this.getFieldName(e),fieldProps:l,showLabel:!this.allowMultiply(e)||!this.multiplyButtonsInline(e)||0===n,dropDownList:this.dropDownLists[i],secondaryDropdown:this.dropDownLists["".concat(i,"_secondary")],language:this.language,availableLocales:this.availableLocales,sortText:this.getI18nTerm("form.sort")||"Sort",fieldKey:"".concat(i,"_").concat(d,"_").concat(this.formId),fieldValue:s?this.valueListInt[i][n]:this.valueListInt[i],autocompleteLoading:this.fieldIsLoading===i,fieldGroupParams:this.formFieldListInt.some((function(e){return e["x-attrs"]&&"group"===e["x-attrs"].field_type}))?this.$props:null,clearable:this.clearable,showErrorIcon:this.showErrorIcon,validationTexts:l.validationTexts||this.validationTexts}},setFieldValue:function(e,t,n){this.currentInputString="",n>=0?this.$set(this.valueListInt[t],n,JSON.parse(JSON.stringify(e))):this.$set(this.valueListInt,t,e?JSON.parse(JSON.stringify(e)):e),this.$emit("values-changed",this.valueListInt)},initializeValueObject:function(){var e=this;this.formFieldListInt.forEach((function(t){e.$set(e.valueListInt,t.name,e.getInitialFieldValue(t))}))},getInitialFieldValue:function(e){var t=this,n=this.valueList[e.name],r=e.type,a=e["x-attrs"]&&e["x-attrs"].field_type?e["x-attrs"].field_type:void 0;if(["number","integer"].includes(r))return n||"";if(a&&a.includes("chips")&&"object"===r)return n&&Object.keys(n).length?[].concat(n):[];if("array"===r)return"object"===Object(i.a)(n)&&n&&n.length?[].concat(n):!e["x-attrs"]||!e["x-attrs"].field_type||a&&!a.includes("chips")?[].concat(this.getInitialFieldValue(e.items)):[];if("object"===r){var l={};return Object.keys(e.properties).forEach((function(n){t.$set(l,n,t.getInitialFieldValue(e.properties[n]))})),Object(o.a)(Object(o.a)({},l),n)}return"boolean"===r?n||!1:"string"==typeof n?n:""},checkFieldContent:function(e){var t=this,n=!1;e&&"object"===Object(i.a)(e)?e.length>=0?e.forEach((function(e){n=t.checkFieldContent(e)||n})):Object.keys(e).forEach((function(i){n=t.checkFieldContent(e[i])||n})):n=0===e||!!e||n;return n}}},d=(n(694),n(695),n(35)),m=Object(d.a)(c,(function(){var e=this,t=e._self._c;return t("div",{staticClass:"base-form",style:e.formStyle},[e.formHeader?t(e.renderHeaderAs,{tag:"component",staticClass:"base-form__header"},[e._v("\n    "+e._s(e.formHeader)+"\n  ")]):e._e(),e._v(" "),t("div",{staticClass:"base-form__body"},[e._l(e.formFieldListInt,(function(n,i){return[e.allowMultiply(n)?[e._l(e.valueListInt[n.name],(function(r,a){return t("div",{key:"".concat(n.name,"_").concat(i,"_").concat(a,"_").concat(e.formId,"_wrapper"),ref:n.name,refInFor:!0,class:["base-form-field",{"base-form-field__multiple__inline":e.multiplyButtonsInline(n)},{"base-form-field__multiple__inline--has-title":0===a},e.formFieldsHalf.indexOf(n)>=0?"base-form-field-half":"base-form-field-full",{"base-form-field-left-margin":e.isHalfFieldSecond(n)}]},[t("BaseFormFieldCreator",e._b({key:"".concat(n.name,"_").concat(i,"_").concat(a,"_").concat(e.formId),staticClass:"base-form-field__multiple__inline-element",on:{"field-value-changed":function(t){e.setFieldValue(t,n.name,a,n["x-attrs"]?n["x-attrs"].equivalent:"")},"fetch-autocomplete":e.fetchAutocomplete,"subform-input":function(t){return e.setFieldValue(t,n.name,a)}},scopedSlots:e._u([{key:"label-addition",fn:function(t){var n=t.fieldName,i=t.groupNames;return[e._t("label-addition",null,{fieldName:n,groupNames:i,index:a})]}},{key:"pre-input-field",fn:function(t){var n=t.fieldName,i=t.groupNames;return[e._t("pre-input-field",null,{fieldName:n,groupNames:i,index:a})]}},{key:"input-field-addition-before",fn:function(t){var n=t.fieldName,i=t.groupNames;return[e._t("input-field-addition-before",null,{fieldName:n,groupNames:i,index:a})]}},{key:"input-field-inline-before",fn:function(i){var r=i.fieldName,o=i.groupNames;return[n["x-attrs"]&&n["x-attrs"].text_before?t("span",{staticClass:"base-form-field__text-before"},[e._v("\n                "+e._s(n["x-attrs"].text_before)+"\n              ")]):e._e(),e._v(" "),e._t("input-field-inline-before",null,{fieldName:r,groupNames:o,index:a})]}},{key:"input-field-addition-after",fn:function(i){var r=i.fieldName,o=i.groupNames;return[n["x-attrs"]&&n["x-attrs"].text_after?t("span",{staticClass:"base-form-field__text-after"},[e._v("\n                "+e._s(n["x-attrs"].text_after)+"\n              ")]):e._e(),e._v(" "),e._t("input-field-addition-after",null,{fieldName:r,groupNames:o,index:a})]}},{key:"post-input-field",fn:function(t){var n=t.fieldName,i=t.groupNames;return[e._t("post-input-field",null,{fieldName:n,groupNames:i,index:a})]}},{key:"error-icon",fn:function(){return[e._t("error-icon")]},proxy:!0},{key:"remove-icon",fn:function(){return[e._t("remove-icon")]},proxy:!0},{key:"below-input",fn:function(t){var n=t.fieldName,i=t.groupNames;return[e._t("below-input",null,{fieldName:n,groupNames:i,index:a})]}}],null,!0)},"BaseFormFieldCreator",e.formFieldComponentProps(n,i,a),!1)),e._v(" "),!e.multiplyButtonsInline(n)&&(e.checkFieldContent(e.valueList[n.name])||e.valueListInt[n.name].length>1)?t("div",{key:"".concat(i,"_button_").concat(a,"_").concat(e.formId),staticClass:"group-add"},[t("button",{staticClass:"field-group-button",attrs:{type:"button"},on:{click:function(t){return t.preventDefault(),e.removeField(n,a)}}},[t("span",[e._v("\n                "+e._s(1===e.valueListInt[n.name].length?e.getI18nTerm("form.clearField")||"Clear":e.getI18nTerm("form.removeField",-1,{fieldType:e.getFieldName(n)}))+"\n              ")]),e._v(" "),t("span",[t("base-icon",{staticClass:"field-group-icon",attrs:{name:"remove"}})],1)])]):e._e(),e._v(" "),e.multiplyButtonsInline(n)?[t("div",{staticClass:"base-form__inline-icons"},[e.checkFieldContent(e.valueList[n.name])||e.valueListInt[n.name].length>1?t("base-icon",{staticClass:"base-form__inline-icon",attrs:{title:1===e.valueListInt[n.name].length?e.getI18nTerm("form.clearField")||"Clear":e.getI18nTerm("form.removeField",-1,{fieldType:e.getFieldName(n)}),role:"button",tabindex:"0",name:"remove"},nativeOn:{click:function(t){return e.removeField(n,a)},keydown:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.removeField(n,a)}}}):e._e(),e._v(" "),t("base-icon",{staticClass:"base-form__inline-icon",attrs:{title:a!==e.valueListInt[n.name].length-1?e.getI18nTerm("form.addGroupBelow",-1,{fieldType:e.getFieldName(n)}):e.getI18nTerm("form.addGroup",-1,{fieldType:e.getFieldName(n)}),role:"button",tabindex:"0",name:"plus"},nativeOn:{click:function(t){return e.multiplyField(n,a)},keydown:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.multiplyField(n,a)}}})],1)]:e._e()],2)})),e._v(" "),e.multiplyButtonsInline(n)?e._e():t("div",{key:"multiplyButton"+i,staticClass:"group-multiply"},[t("button",{staticClass:"field-group-button",attrs:{type:"button"},on:{click:function(t){return t.preventDefault(),e.multiplyField(n)}}},[t("span",[e._v("\n              "+e._s(e.getI18nTerm("form.addGroup",-1,{fieldType:e.getFieldName(n)}))+"\n            ")]),e._v(" "),t("span",[t("base-icon",{staticClass:"field-group-icon",attrs:{name:"plus"}})],1)])])]:t("BaseFormFieldCreator",e._b({key:"".concat(n.name,"_").concat(i,"_").concat(e.formId),class:["base-form-field",e.formFieldsHalf.indexOf(n)>=0?"base-form-field-half":"base-form-field-full",{"base-form-field-top-margin":"boolean"===n.type&&e.formFieldsHalf.indexOf(n)>=0},{"base-form-field-left-margin":e.isHalfFieldSecond(n)}],on:{"field-value-changed":function(t){return e.setFieldValue(t,n.name)},"fetch-autocomplete":e.fetchAutocomplete},scopedSlots:e._u([{key:"label-addition",fn:function(t){var n=t.fieldName,i=t.groupNames;return[e._t("label-addition",null,{fieldName:n,groupNames:i})]}},{key:"pre-input-field",fn:function(t){var n=t.fieldName,i=t.groupNames;return[e._t("pre-input-field",null,{fieldName:n,groupNames:i})]}},{key:"input-field-addition-before",fn:function(t){var n=t.fieldName,i=t.groupNames;return[e._t("input-field-addition-before",null,{fieldName:n,groupNames:i})]}},{key:"input-field-inline-before",fn:function(i){var r=i.fieldName,a=i.groupNames;return[e._t("input-field-inline-before",null,{fieldName:r,groupNames:a}),e._v(" "),n["x-attrs"]&&n["x-attrs"].text_before?t("span",{staticClass:"base-form-field__text-before"},[e._v("\n            "+e._s(n["x-attrs"].text_before)+"\n          ")]):e._e()]}},{key:"input-field-addition-after",fn:function(i){var r=i.fieldName,a=i.groupNames;return[n["x-attrs"]&&n["x-attrs"].text_after?t("span",{staticClass:"base-form-field__text-after"},[e._v("\n            "+e._s(n["x-attrs"].text_after)+"\n          ")]):e._e(),e._v(" "),e._t("input-field-addition-after",null,{fieldName:r,groupNames:a})]}},{key:"post-input-field",fn:function(t){var n=t.fieldName,i=t.groupNames;return[e._t("post-input-field",null,{fieldName:n,groupNames:i})]}},{key:"error-icon",fn:function(){return[e._t("error-icon")]},proxy:!0},{key:"remove-icon",fn:function(){return[e._t("remove-icon")]},proxy:!0},{key:"below-input",fn:function(t){var n=t.fieldName,i=t.groupNames;return[e._t("below-input",null,{fieldName:n,groupNames:i})]}}],null,!0)},"BaseFormFieldCreator",e.formFieldComponentProps(n,i),!1))]}))],2)],1)}),[],!1,null,"37c6156d",null);t.default=m.exports},391:function(e,t,n){"use strict";n.r(t);n(213),n(214),n(74),n(99),n(215);var i={name:"BaseIcon",props:{name:{type:String,default:null,validator:function(e){return["add-existing-collection","add-existing-object","add-new-collection","add-new-object","archive-arrow","archive-empty","archive-sheets","arrow-left","attachment","attention","audio-object","calendar-many","calendar-number","camera","check-mark","clock","collection","download","drag-lines","drag-n-drop","drop-down","duplicate","edit","eye-hide","eye","file-object","forbidden","home","image-object","information","institution","licence","logo","magnifier","next","options-menu","people","people-filled","play","plus","prev","print","refresh","remove","save-file","share","sort","subscribe","success","text","unsubscribe","video-object","waste-bin"].includes(e)}},title:{type:String,default:""},desc:{type:String,default:""}},data:function(){return{baseIcons:null}},computed:{icon:function(){return"".concat(this.baseIcons,"#").concat(this.name)},id:function(){return this._uid},ariaAttribute:function(){var e=[];return this.title&&e.push("title_".concat(this.id)),this.desc&&e.push("desc_".concat(this.id)),e.join(" ")}},mounted:function(){window.base_ui_icons?this.baseIcons=window.base_ui_icons:this.baseIcons="/base-ui-icons.svg"}},r=(n(401),n(35)),a=Object(r.a)(i,(function(){var e=this,t=e._self._c;return t("svg",{staticClass:"base-icon",attrs:{"aria-labelledby":!(!e.title&&!e.desc)&&e.ariaAttribute}},[e.title?t("title",{attrs:{id:"title_"+e.id}},[e._v(e._s(e.title))]):e._e(),e._v(" "),e.desc?t("desc",{attrs:{id:"desc_"+e.id}},[e._v(e._s(e.desc))]):e._e(),e._v(" "),e.baseIcons?t("use",{attrs:{href:e.icon}}):e._e()])}),[],!1,null,"36b05954",null);t.default=a.exports},393:function(e,t,n){},394:function(e,t,n){"use strict";var i=n(102).PROPER,r=n(19),a=n(12),o=n(15),l=n(2),s=n(397),u=RegExp.prototype.toString,f=l((function(){return"/a/b"!=u.call({source:"a",flags:"b"})})),c=i&&"toString"!=u.name;(f||c)&&r(RegExp.prototype,"toString",(function(){var e=a(this);return"/"+o(e.source)+"/"+o(s(e))}),{unsafe:!0})},396:function(e,t,n){"use strict";var i=n(1),r=n(16),a=n(103),o=n(73),l=n(25),s=n(219),u=n(132),f=n(134),c=n(52),d=n(392),m=n(76)("splice"),p=Math.max,h=Math.min;i({target:"Array",proto:!0,forced:!m},{splice:function(e,t){var n,i,m,v,g,b,_=r(this),y=l(_),x=a(e,y),N=arguments.length;for(0===N?n=i=0:1===N?(n=0,i=y-x):(n=N-2,i=h(p(o(t),0),y-x)),u(y+n-i),m=f(_,i),v=0;v<i;v++)(g=x+v)in _&&c(m,v,_[g]);if(m.length=i,n<i){for(v=x;v<y-i;v++)b=v+n,(g=v+i)in _?_[b]=_[g]:d(_,b);for(v=y;v>y-i+n;v--)d(_,v-1)}else if(n>i)for(v=y-i;v>x;v--)b=v+n-1,(g=v+i-1)in _?_[b]=_[g]:d(_,b);for(v=0;v<n;v++)_[v+x]=arguments[v+2];return s(_,y-i+n),m}})},397:function(e,t,n){var i=n(8),r=n(9),a=n(32),o=n(220),l=RegExp.prototype;e.exports=function(e){var t=e.flags;return void 0!==t||"flags"in l||r(e,"flags")||!a(l,e)?t:i(o,e)}},400:function(e,t,n){"use strict";var i=n(1),r=n(3),a=n(22),o=n(16),l=n(25),s=n(392),u=n(15),f=n(2),c=n(403),d=n(104),m=n(404),p=n(405),h=n(50),v=n(406),g=[],b=r(g.sort),_=r(g.push),y=f((function(){g.sort(void 0)})),x=f((function(){g.sort(null)})),N=d("sort"),F=!f((function(){if(h)return h<70;if(!(m&&m>3)){if(p)return!0;if(v)return v<603;var e,t,n,i,r="";for(e=65;e<76;e++){switch(t=String.fromCharCode(e),e){case 66:case 69:case 70:case 72:n=3;break;case 68:case 71:n=4;break;default:n=2}for(i=0;i<47;i++)g.push({k:t+i,v:n})}for(g.sort((function(e,t){return t.v-e.v})),i=0;i<g.length;i++)t=g[i].k.charAt(0),r.charAt(r.length-1)!==t&&(r+=t);return"DGBEFHACIJK"!==r}}));i({target:"Array",proto:!0,forced:y||!x||!N||!F},{sort:function(e){void 0!==e&&a(e);var t=o(this);if(F)return void 0===e?b(t):b(t,e);var n,i,r=[],f=l(t);for(i=0;i<f;i++)i in t&&_(r,t[i]);for(c(r,function(e){return function(t,n){return void 0===n?-1:void 0===t?1:void 0!==e?+e(t,n)||0:u(t)>u(n)?1:-1}}(e)),n=l(r),i=0;i<n;)t[i]=r[i++];for(;i<f;)s(t,i++);return t}})},401:function(e,t,n){"use strict";n(393)},403:function(e,t,n){var i=n(218),r=Math.floor,a=function(e,t){var n=e.length,s=r(n/2);return n<8?o(e,t):l(e,a(i(e,0,s),t),a(i(e,s),t),t)},o=function(e,t){for(var n,i,r=e.length,a=1;a<r;){for(i=a,n=e[a];i&&t(e[i-1],n)>0;)e[i]=e[--i];i!==a++&&(e[i]=n)}return e},l=function(e,t,n,i){for(var r=t.length,a=n.length,o=0,l=0;o<r||l<a;)e[o+l]=o<r&&l<a?i(t[o],n[l])<=0?t[o++]:n[l++]:o<r?t[o++]:n[l++];return e};e.exports=a},404:function(e,t,n){var i=n(72).match(/firefox\/(\d+)/i);e.exports=!!i&&+i[1]},405:function(e,t,n){var i=n(72);e.exports=/MSIE|Trident/.test(i)},406:function(e,t,n){var i=n(72).match(/AppleWebKit\/(\d+)\./);e.exports=!!i&&+i[1]},430:function(e,t,n){var i=n(1),r=n(434).values;i({target:"Object",stat:!0},{values:function(e){return r(e)}})},434:function(e,t,n){var i=n(11),r=n(3),a=n(78),o=n(23),l=r(n(108).f),s=r([].push),u=function(e){return function(t){for(var n,r=o(t),u=a(r),f=u.length,c=0,d=[];f>c;)n=u[c++],i&&!l(r,n)||s(d,e?[n,r[n]]:r[n]);return d}};e.exports={entries:u(!0),values:u(!1)}},591:function(e,t,n){},592:function(e,t,n){},593:function(e,t,n){var i=n(1),r=n(434).entries;i({target:"Object",stat:!0},{entries:function(e){return r(e)}})},694:function(e,t,n){"use strict";n(591)},695:function(e,t,n){"use strict";n(592)}}]);