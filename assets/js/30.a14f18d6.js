(window.webpackJsonp=window.webpackJsonp||[]).push([[30],{1402:function(e,t,l){"use strict";l.r(t);var i=l(19),s=(l(217),l(216),l(7),l(36),l(221),l(219),l(98),l(21),l(55)),n=(l(48),l(401),l(218),l(222),l(49),l(400),l(136),l(129),l(395)),r=l(652),a=l(398),o={name:"BaseCollapsedFilterRow",components:{BaseCollapsedFilterItem:r.default,BaseIcon:n.default},props:{filters:{type:Array,default:function(){return[]},validator:function(e){var t=["idInternal","labelInternal","filter_values"],l=["values","fieldType","fieldId"];return!e.some((function(e){var i=Object.keys(e),s=Object.keys(e.filter_values),n=t.some((function(e){return!i.includes(e)}));return n||(n=l.some((function(e){return!s.includes(e)})))||(n=e.filter_values.values.some((function(e){var t;if((null==e||null===(t=e.values)||void 0===t?void 0:t.length)>=0){var i=Object.keys(e);return 0!==e.values.length&&l.some((function(e){return!i.includes(e)}))&&e.values.some((function(e){return!Object.keys(e).includes("labelInternal")}))}return!Object.keys(e).includes("labelInternal")}))),n}))}},dateTimeText:{type:Object,default:function(){return{from:"from",until:"until",range:"to"}},validator:function(e){return!["from","until","range"].some((function(t){return!Object.keys(e).includes(t)}))}},interpretLabelAsHtml:{type:[Boolean,Array],default:!1},assistiveText:{type:Object,default:function(){return{removeFiltersLabel:"Remove all filters.",filterRemovedNotification:"Filter value {value} was removed from filter {label}.",appliedFiltersLabel:"Currently applied Filters",booleanFilterLabel:"Filter {label} was set",optionToRemoveSelected:"Press delete or backspace to remove."}}}},data:function(){return{filtersInt:[],filterFade:{left:!1,right:!0},pos:{top:0,left:0,x:0,y:0},scrollContainer:null,isScrolling:!1,resizeObserver:null,chipRemovedAssistiveText:""}},computed:{filterListScrollable:function(){return this.filterFade.right||this.filterFade.left}},watch:{filters:{handler:function(e){JSON.stringify(e)!==JSON.stringify(this.filtersInt)&&(this.filtersInt=JSON.parse(JSON.stringify(e)))},immediate:!0},filtersInt:{handler:function(e){var t=this;JSON.stringify(e)!==JSON.stringify(this.filters)&&this.$emit("update:filters",Object(s.a)(e)),this.$nextTick((function(){return t.calcFadeOut()}))},deep:!0}},mounted:function(){this.$refs.filterList&&(this.scrollContainer=this.$refs.filterList),this.initResizeObserver()},beforeDestroy:function(){this.resizeObserver&&this.resizeObserver.unobserve(this.$refs.filterList)},methods:{removeFilters:function(){this.$emit("remove-all")},removeChip:function(e,t,l){var i=this,s=this.filtersInt[e].filter_values,n=s.fieldType,r=s.values,o=this.filtersInt[e].labelInternal,c="group"===n?r[t].values[l].labelInternal:r[t].labelInternal;if("group"===n){var u=r.reduce((function(e,t){var l=t.values;return e.concat(l.filter((function(e){return Object(a.e)(e)})))}),[]);u.length<2&&this.filtersInt.length<2?this.removeFilters():u.length>1?r[t].fieldType.includes("date")||r[t].fieldType.includes("time")?this.filtersInt[e].filter_values.values[t].values[l].labelInternal="":this.filtersInt[e].filter_values.values[t].values.splice(l,1):this.filtersInt.splice(e,1)}else 1===this.filtersInt.length&&1===r.length?this.removeFilters():1===r.length?this.filtersInt.splice(e,1):n.includes("date")||n.includes("time")?r.filter((function(e){return Object(a.e)(e)})).length<2?this.filtersInt.splice(e,1):this.filtersInt[e].filter_values.values[t].labelInternal="":this.filtersInt[e].filter_values.values.splice(t,1);this.chipRemovedAssistiveText=this.assistiveText.filterRemovedNotification.replace("{label}",o).replace("{value}",c),setTimeout((function(){i.chipRemovedAssistiveText=""}),300)},initResizeObserver:function(){var e=new ResizeObserver(this.calcFadeOut);e.observe(this.$refs.filterList),this.resizeObserver=e},mouseDownHandler:function(e){var t,l,i,s;this.filterListScrollable&&(this.pos={left:this.scrollContainer.scrollLeft,top:this.scrollContainer.scrollTop,x:null!==(t=e.clientX)&&void 0!==t?t:e.touches?null===(l=e.touches[0])||void 0===l?void 0:l.clientX:0,y:null!==(i=e.clientY)&&void 0!==i?i:e.touches?null===(s=e.touches[0])||void 0===s?void 0:s.clientY:0},"touchstart"===e.type?(document.addEventListener("touchmove",this.mouseMoveHandler),document.addEventListener("touchend",this.mouseUpHandler)):(document.addEventListener("mousemove",this.mouseMoveHandler),document.addEventListener("mouseup",this.mouseUpHandler)),this.isScrolling=!0)},mouseMoveHandler:function(e){var t,l,i,s,n=null!==(t=e.clientX)&&void 0!==t?t:e.touches?null===(l=e.touches[0])||void 0===l?void 0:l.clientX:0,r=null!==(i=e.clientY)&&void 0!==i?i:e.touches?null===(s=e.touches[0])||void 0===s?void 0:s.clientY:0,a=n-this.pos.x,o=r-this.pos.y;this.scrollContainer.scrollTop=this.pos.top-o,this.scrollContainer.scrollLeft=this.pos.left-a,this.calcFadeOut()},mouseUpHandler:function(){document.removeEventListener("mousemove",this.mouseMoveHandler),document.removeEventListener("mouseup",this.mouseUpHandler),document.removeEventListener("touchmove",this.mouseMoveHandler),document.removeEventListener("touchend",this.mouseUpHandler),this.isScrolling=!1},calcFadeOut:function(){var e=Math.floor(this.scrollContainer.scrollLeft),t=this.scrollContainer.scrollWidth-this.scrollContainer.clientWidth;this.filterFade={left:0!==e,right:0!==t&&e!==t}},filterValuesHaveData:function(e){return Object(a.e)(e)},getRangeIndicator:function(e,t){if(2===e.values.length&&["date","time"].includes(e.fieldType)){if(e.values[0].labelInternal&&e.values[1].labelInternal&&1===t)return this.dateTimeText.range;if(!e.values[1].labelInternal&&e.values[0].labelInternal)return this.dateTimeText.from;if(!e.values[0].labelInternal&&e.values[1].labelInternal)return this.dateTimeText.until}return""},calcSubFormChipHtmlRender:function(e,t){var l=e.split("-").slice(0,1).join("-"),s=this.interpretLabelAsHtml.find((function(e){return"object"===Object(i.a)(e)&&Object.keys(e).includes(l)}));return!!s&&s[l].includes(t)}}},c=(l(700),l(34)),u=Object(c.a)(o,(function(){var e=this,t=e._self._c;return t("div",{staticClass:"base-collapsed-filter-row"},[t("div",{ref:"filterListContainer",class:["base-collapsed-filter-row__filter-list-container",{"base-collapsed-filter-row__filter-list-container__fade-right":e.filterFade.right},{"base-collapsed-filter-row__filter-list-container__fade-left":e.filterFade.left}]},[t("ul",{ref:"filterList",class:["base-collapsed-filter-row__filter-list",{"base-collapsed-filter-row__filter-list__scrollable":e.filterListScrollable},{"base-collapsed-filter-row__filter-list__scrolling":e.isScrolling}],attrs:{"aria-description":e.assistiveText.appliedFiltersLabel},on:{mousedown:e.mouseDownHandler,touchstart:e.mouseDownHandler}},e._l(e.filtersInt,(function(l,s){var n;return t("li",{key:l.idInternal,class:["base-collapsed-filter-row__filter",{"base-collapsed-filter-row__filter__boolean":"boolean"===l.filter_values.fieldType}],attrs:{"aria-describedby":"".concat(l.idInternal,"-label"),role:"listitem",tabindex:"0"}},[l.filter_values&&e.filterValuesHaveData(l.filter_values.values)?[t("div",{staticClass:"base-collapsed-filter-row__filter-label",attrs:{id:"".concat(l.idInternal,"-label")}},[e._v("\n            "+e._s(l.labelInternal)+"\n          ")]),e._v(" "),t("ul",{staticClass:"base-collapsed-filter-row__chips-list"},[e._l(null===(n=l.filter_values)||void 0===n?void 0:n.values,(function(n,r){return["group"===l.filter_values.fieldType?[e._l(n.values,(function(a,o){return[a.labelInternal?t("BaseCollapsedFilterItem",{key:a.idInternal||"".concat(a.labelInternal,"-").concat(r,"-").concat(o),attrs:{value:a,type:n.fieldType,"range-indicator":e.getRangeIndicator(n,o),scrollable:e.filterListScrollable,"is-scrolling":e.isScrolling,"date-time-text":e.dateTimeText,"interpret-label-as-html":"boolean"==typeof e.interpretLabelAsHtml&&e.interpretLabelAsHtml||"object"===Object(i.a)(e.interpretLabelAsHtml)&&e.calcSubFormChipHtmlRender(l.idInternal,n.fieldId),"assistive-text":{booleanFilterLabel:e.assistiveText.booleanFilterLabel?e.assistiveText.booleanFilterLabel.replace("{label}",l.labelInternal):a.labelInternal.toString(),optionToRemoveSelected:e.assistiveText.optionToRemoveSelected}},on:{"remove-chip":function(t){return e.removeChip(s,r,o)}}}):e._e()]}))]:[n.labelInternal?t("BaseCollapsedFilterItem",{key:n.idInternal||"".concat(n.labelInternal,"-").concat(r),attrs:{value:n,type:l.filter_values.fieldType,"range-indicator":e.getRangeIndicator(l.filter_values,r),scrollable:e.filterListScrollable,"is-scrolling":e.isScrolling,"date-time-text":e.dateTimeText,"interpret-label-as-html":"boolean"==typeof e.interpretLabelAsHtml&&e.interpretLabelAsHtml||"object"===Object(i.a)(e.interpretLabelAsHtml)&&e.interpretLabelAsHtml.includes(l.idInternal),"assistive-text":{booleanFilterLabel:e.assistiveText.booleanFilterLabel?e.assistiveText.booleanFilterLabel.replace("{label}",l.labelInternal):n.labelInternal.toString(),optionToRemoveSelected:e.assistiveText.optionToRemoveSelected}},on:{"remove-chip":function(t){return e.removeChip(s,r)}}}):e._e()]]}))],2)]:e._e()],2)})),0)]),e._v(" "),e.chipRemovedAssistiveText?t("span",{staticClass:"assistive-text",attrs:{"aria-live":"assertive"}},[e._v("\n    "+e._s(e.chipRemovedAssistiveText)+"\n  ")]):e._e(),e._v(" "),t("button",{staticClass:"base-collapsed-filter-row__remove",attrs:{title:e.assistiveText.removeFiltersLabel},on:{click:e.removeFilters}},[t("BaseIcon",{staticClass:"base-collapsed-filter-row__remove-icon",attrs:{name:"remove"}})],1)])}),[],!1,null,"2f7e52fa",null);t.default=u.exports},493:function(e,t,l){},534:function(e,t,l){"use strict";l(493)},579:function(e,t,l){},652:function(e,t,l){"use strict";l.r(t);l(217),l(216),l(129),l(7),l(221),l(219);var i=l(447),s={name:"BaseCollapsedFilterItem",components:{BaseIcon:l(395).default,BaseChip:i.default},props:{value:{type:[Object],required:!0,validator:function(e){return Object.keys(e).includes("labelInternal")}},type:{type:String,default:"text"},rangeIndicator:{type:String,default:"from"},isScrolling:{type:Boolean,default:!1},scrollable:{type:Boolean,default:!1},interpretLabelAsHtml:{type:Boolean,default:!1},assistiveText:{type:Object,default:function(){return{booleanFilterLabel:"Filter was set.",optionToRemoveSelected:"Press delete or backspace to remove."}}}},computed:{isBoolean:function(){return"boolean"===this.type},isDateOrTimeRange:function(){return["date","time"].includes(this.type)&&this.rangeIndicator},hasValue:function(){return!!this.value&&!!this.value.labelInternal},chipStyling:function(){return this.scrollable?{cursor:this.isScrolling?"grabbing":"grab",userSelect:this.isScrolling?"none":"unset"}:{}},filterItemLabel:function(){return this.isBoolean&&this.assistiveText.booleanFilterLabel&&this.assistiveText.optionToRemoveSelected?"".concat(this.assistiveText.booleanFilterLabel,". ").concat(this.assistiveText.optionToRemoveSelected):this.isBoolean&&this.assistiveText.booleanFilterLabel?this.assistiveText.booleanFilterLabel:!this.isBoolean&&this.assistiveText.optionToRemoveSelected?"".concat(this.value.labelInternal,". ").concat(this.assistiveText.optionToRemoveSelected):this.value.labelInternal.toString()}},methods:{removeChip:function(e){var t=e.type,l=e.key;("keydown"!==t||"keydown"===t&&["Backspace","Delete"].includes(l))&&this.$emit("remove-chip")}}},n=(l(534),l(34)),r=Object(n.a)(s,(function(){var e=this,t=e._self._c;return t("div",{ref:"filterChip",staticClass:"base-collapsed-filter-item",attrs:{role:"listitem",tabindex:"0"},on:{keydown:e.removeChip}},[e.isDateOrTimeRange?t("span",{staticClass:"base-collapsed-filter-item__until"},[e._v("\n    "+e._s(e.rangeIndicator)+"\n  ")]):e._e(),e._v(" "),!e.isBoolean&&e.hasValue?t("BaseChip",{staticClass:"base-collapsed-filter-item__chip",attrs:{entry:e.value.labelInternal,"is-linked":!0,"text-styling":e.chipStyling,"interpret-text-as-html":e.interpretLabelAsHtml&&!!e.value.idInternal,"assistive-text":e.filterItemLabel},on:{"remove-entry":e.removeChip}}):e.isBoolean&&e.hasValue?t("div",{staticClass:"base-collapsed-filter-item__chip base-collapsed-filter-item__boolean-value"},[t("BaseIcon",{staticClass:"base-collapsed-filter-item__icon",attrs:{title:e.filterItemLabel,name:"check-mark"}}),e._v(" "),t("BaseIcon",{staticClass:"base-collapsed-filter-item__icon-remove",attrs:{name:"remove"},nativeOn:{click:function(t){return t.stopPropagation(),e.removeChip.apply(null,arguments)}}})],1):e._e()],1)}),[],!1,null,"66942060",null);t.default=r.exports},700:function(e,t,l){"use strict";l(579)}}]);