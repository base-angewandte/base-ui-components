(window.webpackJsonp=window.webpackJsonp||[]).push([[91,4,121,122],{1419:function(e,t,i){"use strict";i.r(t);i(217);var n=i(41),s=i(402),a=i(81),o=(i(139),i(99),i(130),i(7),i(18),i(97),i(21),i(1286)),r=i(395),c=i(504),u={name:"BaseMediaCarousel",components:{BaseMediaCarouselItem:o.default,BaseIcon:r.default},mixins:[c.a],props:{items:{type:Array,default:function(){return[]}},initialSlide:{type:[Number,String],default:0},allowDownload:{type:Boolean,default:!0},infoTexts:{type:Object,default:function(){return{download:"Download",view:"View"}}},showPreview:{type:Boolean,default:!1},swiperOptions:{type:Object,default:function(){return{speed:500,keyboard:{enabled:!0}}}}},data:function(){return{showInt:this.showPreview,targetName:"mediaCarousel",swiper:null,swiperId:"base-media-carousel__swiper".concat(this._uid),isMounted:!1}},watch:{showPreview:function(e){this.showInt=e}},mounted:function(){this.isMounted=!0},updated:function(){var e=this;this.$nextTick((function(){e.isMounted&&e.showInt&&null===e.swiper&&(e.initSwiper(),e.$el.addEventListener("keyup",(function(t){return e.escapeEvent(t)})),e.$el.addEventListener("keydown",(function(t){return e.tabEvents(t)}))),e.showInt||(e.swiper=null,e.$el.removeEventListener("keyup",(function(t){return e.escapeEvent(t)})),e.$el.removeEventListener("keydown",(function(t){return e.tabEvents(t)})))}))},methods:{hide:function(){this.$emit("hide")},initSwiper:function(){var e=this;return Object(a.a)(Object(n.a)().mark((function t(){var a,o,r,c,u,d,l;return Object(n.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,i.e(3).then(i.bind(null,1394));case 2:return a=t.sent,o=a.Swiper,t.next=6,i.e(3).then(i.bind(null,1394));case 6:return r=t.sent,c=r.Keyboard,t.next=10,i.e(3).then(i.bind(null,1394));case 10:u=t.sent,d=u.Navigation,l={init:!1,initialSlide:e.initialSlide,navigation:{nextEl:".swiper-button-next",prevEl:".swiper-button-prev"},lazyPreloaderClass:"base-media-preview-preloader",threshold:10,modules:[d,c]},e.swiper=new o("#".concat(e.swiperId),Object(s.a)(Object(s.a)({},e.swiperOptions),l)),e.swiper.on("slideChange",(function(){e.mediaPause()})),e.swiper.on("transitionEnd",(function(){e.swiper&&e.$refs.baseMedia[e.swiper.activeIndex].$el.focus()})),e.swiper.on("init",(function(){setTimeout((function(){window.dispatchEvent(new Event("resize"))}),0)})),e.swiper.init(),e.$refs.baseMedia[e.swiper.activeIndex].$el.focus();case 19:case"end":return t.stop()}}),t)})))()},mediaPause:function(){var e=this.$refs.baseMedia[this.swiper.previousIndex];e&&e.$refs.baseMediaVideo&&e.$refs.baseMediaVideo.pause(),e&&e.$refs.baseMediaAudio&&e.$refs.baseMediaAudio.pause()},escapeEvent:function(e){"Escape"===e.key&&this.hide()},tabEvents:function(e){if(e.shiftKey&&"Tab"===e.key)return e.preventDefault(),void this.setFocus("prev");"Tab"===e.key&&(e.preventDefault(),this.setFocus("next"))},getFocusableItems:function(){var e=[];return this.$refs.baseMedia.forEach((function(t){var i=Array.from(t.$el.querySelectorAll('button, audio, video[tabindex="0"]'));i.unshift(t.$el),e.push(i)})),e},setFocus:function(){var e,t,i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"next",n=this.getFocusableItems();if(n.forEach((function(i,n){i.forEach((function(i,s){i.matches(":focus")&&(e=n,t=s)}))})),"next"===i){if(n[e]&&n[e][t+1])return void n[e][t+1].focus();this.swiper.slideNext()}if("prev"===i){if(n[e]&&n[e][t-1])return void n[e][t-1].focus();this.swiper.slidePrev()}},download:function(e){this.$emit("download",e)}}},d=(i(732),i(34)),l=Object(d.a)(u,(function(){var e=this,t=e._self._c;return t("transition",{attrs:{name:"grow"}},[e.showInt?t("div",{ref:"mediaCarousel",staticClass:"base-media-carousel"},[t("div",{staticClass:"base-media-carousel__background"}),e._v(" "),t("button",{staticClass:"base-media-carousel__close",on:{click:e.hide}},[t("base-icon",{attrs:{name:"remove"}})],1),e._v(" "),t("div",{staticClass:"swiper-container",attrs:{id:e.swiperId}},[e.items.length>1?[t("base-icon",{staticClass:"swiper-button swiper-button-prev",attrs:{name:"prev"}}),e._v(" "),t("base-icon",{staticClass:"swiper-button swiper-button-next",attrs:{name:"next"}})]:e._e(),e._v(" "),t("div",{staticClass:"swiper-wrapper"},e._l(e.items,(function(i,n){return t("div",{key:n,staticClass:"swiper-slide"},[t("base-media-carousel-item",{ref:"baseMedia",refInFor:!0,attrs:{autoplay:n===e.initialSlide,"additional-info":i.additionalInfo,"allow-download":e.allowDownload,"current-slide-info":e.items.length>1?"".concat(n+1," / ").concat(e.items.length):"","display-name":i.title,"display-size":i.displaySize,"download-url":i.downloadUrl,"info-texts":e.infoTexts,"media-url":i.mediaUrl,"media-poster-url":i.mediaPosterUrl,"media-type":i.mediaType,orientation:i.orientation,previews:i.previews,"hls-start-level":i.hlsStartLevel,tabindex:"0"},on:{download:e.download}})],1)})),0)],2)]):e._e()])}),[],!1,null,"3b5b105a",null);t.default=l.exports},395:function(e,t,i){"use strict";i.r(t);i(217),i(216),i(218),i(99),i(74);var n={name:"BaseIcon",props:{name:{type:String,default:null,validator:function(e){return["add-existing-collection","add-existing-object","add-new-collection","add-new-object","archive-arrow","archive-empty","archive-sheets","arrow-left","arrow-right","attachment","attention","audio-object","calendar-many","calendar-number","camera","check-mark","clock","collection","download","drag-lines","drag-n-drop","drop-down","duplicate","edit","eye-hide","eye","file-object","forbidden","fullscreen","fullscreen-exit","grid","home","image-object","image-cropped","image-resized","information","institution","information-solo","licence","logo","magnifier","minus","next","options-menu","people","people-filled","play","plus","prev","print","refresh","remove","save-file","separator-vertical","share","sort","subscribe","success","text","unsubscribe","video-object","waste-bin"].includes(e)}},title:{type:String,default:""},desc:{type:String,default:""}},data:function(){return{baseIcons:null}},computed:{icon:function(){return"".concat(this.baseIcons,"#").concat(this.name)},id:function(){return this._uid},ariaAttribute:function(){var e=[];return this.title&&e.push("title_".concat(this.id)),this.desc&&e.push("desc_".concat(this.id)),e.join(" ")}},mounted:function(){window.base_ui_icons?this.baseIcons=window.base_ui_icons:this.baseIcons="/base-ui-icons.svg"}},s=(i(411),i(34)),a=Object(s.a)(n,(function(){var e=this,t=e._self._c;return t("svg",{staticClass:"base-icon",attrs:{"aria-labelledby":!(!e.title&&!e.desc)&&e.ariaAttribute}},[e.title?t("title",{attrs:{id:"title_"+e.id}},[e._v(e._s(e.title))]):e._e(),e._v(" "),e.desc?t("desc",{attrs:{id:"desc_"+e.id}},[e._v(e._s(e.desc))]):e._e(),e._v(" "),e.baseIcons?t("use",{attrs:{href:e.icon}}):e._e()])}),[],!1,null,"5a9c2878",null);t.default=a.exports},397:function(e,t,i){},411:function(e,t,i){"use strict";i(397)},504:function(e,t,i){"use strict";var n=i(483);t.a={data:function(){return{targetElement:null}},watch:{showInt:function(e){e||Object(n.a)()}},updated:function(){this.targetElement=this.$refs[this.targetName],this.targetElement&&(this.showInt?Object(n.b)(this.targetElement,{allowTouchMove:function(){return!0}}):Object(n.c)(this.targetElement))},destroyed:function(){Object(n.a)()}}},609:function(e,t,i){},732:function(e,t,i){"use strict";i(609)}}]);